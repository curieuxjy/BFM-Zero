<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="description" content="BFM-Zero: A Promptable Behavioral Foundation Model for Humanoid Control Using Unsupervised Reinforcement Learning">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>BFM-Zero: A Promptable Behavioral Foundation Model for Humanoid Control Using Unsupervised Reinforcement Learning</title>

  <!-- Empty favicon to prevent browser from requesting /favicon.ico -->
  <link rel="icon" href="data:,">
  
  <!-- CRITICAL: Block all non-hero videos BEFORE HTML parsing starts -->
  <script>
    (function() {
      // Block videos immediately when they're created during HTML parsing
      const blockVideo = function(video) {
        const videoId = video.id || '';
        // Skip hero videos
        if (videoId !== 'hero-video-main' && videoId !== 'hero-video-mobile') {
          // Skip full video modal videos - they're loaded on demand
          if (video.hasAttribute('data-full-video')) {
            return;
          }
          
          // Immediately block this video - set preload to none BEFORE browser can start loading
          video.preload = 'none';
          video.pause();
          // Remove src from video and source elements immediately
          if (video.src) {
            video.setAttribute('data-temp-src', video.src);
            video.removeAttribute('src');
          }
          const source = video.querySelector('source');
          if (source) {
            const srcAttr = source.getAttribute('src');
            if (srcAttr) {
              source.setAttribute('data-temp-src', srcAttr);
              source.removeAttribute('src');
            }
          }
        }
      };
      
      // Use MutationObserver to catch videos as they're added to DOM
      const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
          mutation.addedNodes.forEach(function(node) {
            if (node.nodeType === 1) { // Element node
              // Check if it's a video element
              if (node.tagName === 'VIDEO') {
                blockVideo(node);
              }
              // Also check children for video elements
              if (node.querySelectorAll) {
                const videos = node.querySelectorAll('video');
                videos.forEach(blockVideo);
              }
            }
          });
        });
      });
      
      // Start observing at document level as early as possible
      // Observe document.documentElement to catch all changes
      if (document.documentElement) {
        observer.observe(document.documentElement, { childList: true, subtree: true });
      }
      
      // Also block any existing videos immediately (in case script runs after some videos are already parsed)
      if (document.readyState === 'loading') {
        // DOM is still loading, set up early blocking
        document.addEventListener('DOMContentLoaded', function() {
          const allVideos = document.querySelectorAll('video');
          allVideos.forEach(blockVideo);
        });
      } else {
        // DOM already loaded, block immediately
        const allVideos = document.querySelectorAll('video');
        allVideos.forEach(blockVideo);
      }
    })();
  </script>
  
  <!-- Preconnect to CDNs for faster loading (preconnect includes DNS lookup) -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  <link rel="preconnect" href="https://ajax.googleapis.com">
  
  <!-- Preload hero video FIRST - highest priority for fastest loading -->
  <link rel="preload" href="./resources/head/head_new_firefox_720p.mp4" as="video" type="video/mp4" fetchpriority="high">
  
  <!-- Preload critical CSS for faster first paint (lower priority than video) -->
  <link rel="preload" href="./static/css/bulma.min.css" as="style" fetchpriority="high">
  <link rel="preload" href="./static/css/index.css" as="style" fetchpriority="high">
  
  <!-- Critical CSS - load immediately for page layout -->
  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  
  <!-- Non-critical CSS - will be loaded after hero video (see loadKaTeXAfterHeroVideo function) -->
  
  <!-- Preload critical JavaScript (lowest priority) -->
  <link rel="preload" href="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js" as="script" fetchpriority="low">
  <link rel="preload" href="./static/js/index.js" as="script" fetchpriority="low">
  
  <style>
    /* System font stack - faster loading, no external fonts needed */
    :root {
      --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
      --font-serif: Georgia, 'Times New Roman', Times, serif;
    }
    
    body, html {
      font-family: var(--font-sans);
    }
    
    /* Right floating navigation bar styles */
    .floating-nav {
      position: fixed;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      z-index: 1000;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .floating-nav-trigger {
      width: 60px;
      height: 60px;
      background-color: rgba(255, 255, 255, 0.9);
      border: 1px solid #ddd;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      transition: all 0.3s ease;
      position: relative;
      z-index: 1002;
    }
    
    .floating-nav-trigger:hover {
      background-color: white;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    }
    
    .floating-nav-trigger i {
      color: #333;
      font-size: 1.2rem;
    }
    
    .floating-nav-content {
      position: absolute;
      right: 0;
      top: 0;
      width: 0;
      height: 0;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 15px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
      overflow: hidden;
      transition: all 0.3s ease;
      opacity: 0;
      visibility: hidden;
    }
    
    .floating-nav:hover .floating-nav-content {
      width: 250px;
      height: auto;
      min-height: 300px;
      opacity: 1;
      visibility: visible;
    }
    
    .floating-nav-menu {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    
    .floating-nav-menu li {
      border-bottom: 1px solid #f0f0f0;
    }
    
    .floating-nav-link {
      display: block;
      padding: 12px 20px;
      color: #555;
      text-decoration: none;
      font-size: 0.9rem;
      transition: all 0.2s ease;
    }
    
    .floating-nav-link:hover {
      background: #f8f9fa;
      color: #333;
      padding-left: 25px;
    }
    
    .floating-nav-link.active {
      background: #007bff;
      color: white;
    }
    
    /* Floating nav subsection styles */
    .floating-nav-item-with-sub {
      position: relative;
    }
    
    .floating-nav-submenu {
      list-style: none;
      padding: 0;
      margin: 0;
      background: rgba(248, 249, 250, 0.9);
      border-left: 3px solid #007bff;
      margin-left: 10px;
      display: none;
    }
    
    .floating-nav-item-with-sub:hover .floating-nav-submenu {
      display: block;
    }
    
    .floating-nav-sublink {
      display: block;
      padding: 8px 20px 8px 30px;
      color: #999;
      text-decoration: none;
      font-size: 0.8rem;
      transition: all 0.2s ease;
      border-bottom: 1px solid #f0f0f0;
    }
    
    .floating-nav-sublink:hover {
      background: #e9ecef;
      color: #333;
      padding-left: 35px;
    }
    
    /* Responsive design */
    @media (max-width: 768px) {
      /* iPad font scaling to 0.7x - excluding formula-related elements */
      *:not(.reward-formula):not(.reward-formula *):not(.MathJax):not(.MathJax *):not(.MathJax_Display):not(.MathJax_Display *):not(.MathJax_Display > *):not(.MathJax_Display > * *):not(.button):not(.button *):not(.gallery-container):not(.gallery-item):not(.gallery-item *):not(.tab-content):not(.tab-content *) {
        font-size: 0.7em !important;
      }
      
      /* Force fix formula display */
      .reward-formula {
        font-size: 1em !important;
        line-height: 1.5 !important;
        margin: 1rem 0 !important;
        padding: 0.5rem !important;
        display: block !important;
        width: 100% !important;
        overflow: visible !important;
      }
      
      .reward-formula * {
        font-size: inherit !important;
        line-height: inherit !important;
        display: inherit !important;
      }
      
      /* MathJax force fix */
      .MathJax {
        font-size: 1em !important;
        line-height: 1.5 !important;
        display: block !important;
        width: 100% !important;
        overflow: visible !important;
      }
      
      .MathJax_Display {
        font-size: 1em !important;
        line-height: 1.5 !important;
        display: block !important;
        width: 100% !important;
        overflow: visible !important;
        margin: 1rem 0 !important;
        padding: 0.5rem !important;
      }
      
      .MathJax_Display * {
        font-size: inherit !important;
        line-height: inherit !important;
        display: inherit !important;
      }
      
      /* Navigation bar mobile optimization */
      .floating-nav {
        right: 15px;
      }
      
      .floating-nav-trigger {
        width: 45px;
        height: 45px;
        border: 1px solid #ddd;
      border-radius: 50%;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      
      .floating-nav-trigger i {
        font-size: 0.9rem;
      }
      
      .floating-nav-trigger:hover {
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
      }
      
      .floating-nav:hover .floating-nav-content {
        width: 180px;
        min-height: 220px;
      }
      
      .floating-nav-link {
        padding: 8px 12px;
        font-size: 0.75rem;
      }
      
      .floating-nav-sublink {
        padding: 5px 12px 5px 20px;
        font-size: 0.7rem;
      }
      
      /* Page content mobile optimization */
      .container {
        padding: 0 12px;
      }
      
      .section {
        padding: 1.5rem 0;
      }
      
      /* Section titles and content mobile optimization */
      .section .title.is-2 {
        font-size: 1.5rem !important;
      }
      
      .section .title.is-3 {
        font-size: 1.25rem !important;
      }
      
      .section .title.is-5 {
        font-size: 1.1rem !important;
      }
      
      .section p {
        font-size: 0.8em !important;
      }
      
      .section .container p {
        font-size: 0.8em !important;
      }
      
      /* Make all p tags smaller on mobile */
      p {
        font-size: 0.8em !important;
      }
      
      /* Video mobile optimization */
      video {
        max-width: 100%;
        height: auto;
      }
      
      /* Flip cards mobile optimization */
      .flip-cards-container {
        flex-direction: column;
        gap: 12px;
      }
      
      .flip-card-left,
      .flip-cards-right {
        width: 100%;
      }
      
      .flip-card {
      width: 100%;
      max-width: 250px;
        margin: 0 auto;
        transform: scale(0.75);
        transform-origin: center top;
      }
      
      /* Exception for approach section to keep desktop original */
      #approach .flip-card {
        transform: none !important;
        max-width: none !important;
      }
      
      .flip-card img {
        width: 100%;
        height: auto;
      }
      
      .flip-card p, .flip-card h1, .flip-card h2, .flip-card h3, .flip-card h4 {
        font-size: 0.75em !important;
      }
      
      /* Exception for approach section to keep desktop original */
      #approach .flip-card p {
        font-size: inherit !important;
      }
      
      /* Gallery mobile optimization */
      .gallery-container {
        padding: 0 8px;
      }
      
      .gallery-item {
        margin: 0 4px;
      }
      
      .gallery-item video {
      width: 100%;
        max-width: 160px;
        height: auto;
      }
      
      /* Author info mobile optimization - further increase font size */
      .authors {
        font-size: 1.1em !important;
        line-height: 1.4;
      }
      
      .author-item {
        font-size: 1.1em !important;
        margin: 0.4rem 0;
      }
      
      .author-name {
        font-size: 1.1em !important;
      }
      
      .author-affiliation {
        font-size: 1.0em !important;
      }
      
      /* Header area mobile optimization - 1/3 screen height */
      .hero.is-fullheight {
        height: 33vh !important;
        min-height: 33vh !important;
      }
      
      .hero-video {
        height: 33vh !important;
        min-height: 33vh !important;
      }
      
      /* Gallery frames further reduced - fix white borders */
      .gallery-item {
        margin: 0 1px;
        padding: 1px;
        border: none !important;
        background: transparent !important;
      }
      
      .gallery-item video {
        width: 100%;
        max-width: 120px;
      height: auto;
        border-radius: 3px;
        border: none !important;
        background: transparent !important;
      }
      
      .gallery-container {
        padding: 0 4px;
        gap: 4px;
        border: none !important;
        background: transparent !important;
      }
      
      /* Remove all gallery-related borders and backgrounds */
      .gallery-item * {
        border: none !important;
        background: transparent !important;
        margin: 0 !important;
        padding: 0 !important;
      }
      
      .gallery-item h4 {
        margin: 0.3rem 0 !important;
        padding: 0 !important;
        border: none !important;
        background: transparent !important;
      }
      
      .gallery-item p {
        margin: 0.2rem 0 !important;
        padding: 0 !important;
        border: none !important;
        background: transparent !important;
      }
      
      /* Ensure formulas display normally */
      .reward-formula {
        font-size: 1em !important;
      }
      
      .reward-formula * {
        font-size: inherit !important;
      }
      
      /* MathJax formula container */
      .MathJax {
        font-size: 1em !important;
      }
      
      .MathJax_Display {
        font-size: 1em !important;
      }
      
      /* Ensure PDF button displays normally - more specific fix */
      .button {
        font-size: 1em !important;
        padding: 0.5rem 1rem !important;
        min-height: 2.5rem !important;
        min-width: 4rem !important;
      }
      
      .button span {
        font-size: 1em !important;
        line-height: 1.2 !important;
      }
      
      .button .icon {
        font-size: 1em !important;
        width: 1em !important;
        height: 1em !important;
      }
      
      .button i {
        font-size: 1em !important;
      }
      
      /* PDF button specific styles */
      .external-link.button {
        font-size: 1em !important;
        padding: 0.5rem 1rem !important;
        min-height: 2.5rem !important;
        min-width: 4rem !important;
      }
      
      .external-link.button span {
        font-size: 1em !important;
        line-height: 1.2 !important;
      }
      
      .external-link.button .icon {
        font-size: 1em !important;
        width: 1em !important;
        height: 1em !important;
      }
      
      .external-link.button i {
        font-size: 1em !important;
      }
      
      /* Ensure Gallery displays normally */
      .gallery-container {
        font-size: 1em !important;
      }
      
      .gallery-item {
        font-size: 1em !important;
      }
      
      .gallery-item video {
        font-size: inherit !important;
      }
      
      .gallery-item h4 {
        font-size: 1em !important;
      }
      
      .gallery-item p {
        font-size: 1em !important;
      }
      
      /* Ensure tab content displays normally */
      .tab-content {
        font-size: 1em !important;
      }
      
      .tab-content * {
        font-size: inherit !important;
      }
      
      .sub-tab-content {
        font-size: 1em !important;
      }
      
      .sub-tab-content * {
        font-size: inherit !important;
      }
      
      .container {
        max-width: 100%;
        overflow-x: hidden;
      }
      
      .section {
        max-width: 100%;
        overflow-x: hidden;
      }
      
      /* Logo maintains original size */
      .logo, .logo img {
        max-width: none;
        width: auto;
        height: auto;
      }
      
      /* Navigation bar logo maintains original size */
      .floating-nav-trigger {
        background-size: 80%;
      }
      
      .floating-nav-trigger:hover {
        background-size: 80%;
      }
      
      /* Table does not overflow */
      .table {
        max-width: 100%;
        overflow-x: auto;
      }
      
      /* Gallery does not overflow */
    .gallery-container {
        max-width: 100%;
        overflow-x: auto;
      }
      
      /* Flip cards do not overflow */
      .flip-cards-container {
        max-width: 100%;
        overflow-x: hidden;
      }
      
      /* Text does not overflow */
      p, h1, h2, h3, h4, h5, h6 {
        word-wrap: break-word;
        overflow-wrap: break-word;
      }
      
      /* Button mobile optimization */
      .button {
        padding: 0.5rem 1rem !important;
        font-size: 0.9rem !important;
        min-height: 2.5rem !important;
        min-width: 4rem !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        gap: 0.5rem !important;
      }
      
      .button span {
        font-size: 0.9rem !important;
        line-height: 1.2 !important;
        flex-shrink: 0 !important;
      }
      
      .button .icon,
      .button i {
        font-size: 0.9rem !important;
        flex-shrink: 0 !important;
      }
      
      .external-link.button {
        font-size: 0.9rem !important;
        padding: 0.5rem 1rem !important;
        min-height: 2.5rem !important;
        min-width: 4rem !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        gap: 0.5rem !important;
      }
      
      .external-link.button span {
        font-size: 0.9rem !important;
        line-height: 1.2 !important;
        flex-shrink: 0 !important;
      }
      
      .external-link.button .icon,
      .external-link.button i {
        font-size: 0.9rem !important;
        flex-shrink: 0 !important;
      }
      
      /* Table mobile optimization */
      .table {
        font-size: 0.7rem;
      }
      
      .table th,
      .table td {
        padding: 0.4rem 0.2rem;
      }
    }
    
    /* iPhone specific optimization */
    @media (max-width: 414px) {
      /* iPhone font scaling to 0.55em - excluding formula-related elements */
      *:not(.reward-formula):not(.reward-formula *):not(.MathJax):not(.MathJax *):not(.MathJax_Display):not(.MathJax_Display *):not(.MathJax_Display > *):not(.MathJax_Display > * *):not(.button):not(.button *):not(.gallery-container):not(.gallery-item):not(.gallery-item *):not(.tab-content):not(.tab-content *) {
        font-size: 0.55em !important;
      }
      
      /* iPhone force fix formula display - container larger, formula smaller */
      .reward-formula {
        font-size: 1.1em !important;
        line-height: 1.6 !important;
        margin: 1rem 0 !important;
        padding: 0.8rem !important;
        display: block !important;
        width: 100% !important;
        overflow: visible !important;
        min-height: 2.5rem !important;
        overflow-x: auto !important;
      }
      
      .reward-formula * {
        font-size: 0.85em !important;
        line-height: inherit !important;
        display: inherit !important;
      }
      
      /* MathJax force fix - container larger, formula smaller */
      .MathJax {
        font-size: 1.1em !important;
        line-height: 1.6 !important;
        display: block !important;
        width: 100% !important;
        overflow-x: auto !important;
        overflow-y: visible !important;
      }
      
      .MathJax_Display {
        font-size: 1.1em !important;
        line-height: 1.6 !important;
        display: block !important;
        width: 100% !important;
        overflow: visible !important;
        margin: 1rem 0 !important;
        padding: 0.8rem !important;
        min-height: 2.5rem !important;
      }
      
      .MathJax_Display * {
        font-size: 0.85em !important;
        line-height: inherit !important;
        display: inherit !important;
      }
      
      .floating-nav {
        right: 8px;
      }
      
      .floating-nav-trigger {
        width: 40px;
        height: 40px;
      }
      
      .floating-nav-trigger i {
        font-size: 0.8rem;
      }
      
      .floating-nav:hover .floating-nav-content {
        width: 160px;
        min-height: 180px;
      }
      
      .container {
        padding: 0 10px;
      }
      
      .section {
        padding: 1.5rem 0;
      }
      
      /* Section titles and content iPhone optimization */
      .section .title.is-2 {
        font-size: 1.5rem !important;
      }
      
      .section .title.is-3 {
        font-size: 1.25rem !important;
      }
      
      .section .title.is-5 {
        font-size: 1.1rem !important;
      }
      
      .section p {
        font-size: 0.65em !important;
      }
      
      .section .container p {
        font-size: 0.65em !important;
      }
      
      /* Make all p tags smaller on iPhone */
      p {
        font-size: 0.65em !important;
      }
      
      .flip-card {
        max-width: 200px;
        transform: scale(0.33);
        transform-origin: center top;
        margin: 0 auto;
      }
      
      .flip-card-left .flip-card,
      .flip-cards-right .flip-card,
      .flip-card-item .flip-card {
        transform: scale(0.33);
        transform-origin: center top;
        margin: 0 auto;
      }
      
      .flip-card img {
        width: 100%;
        height: auto;
      }
      
      .flip-card p, .flip-card h1, .flip-card h2, .flip-card h3, .flip-card h4 {
        font-size: 0.33em !important;
        line-height: 1.3 !important;
      }
      
      .flip-card-inner {
        transform: scale(1) !important;
      }
      
      .flip-card-front, .flip-card-back {
        transform: scale(1) !important;
      }
      
      .flip-cards-container {
        gap: 4px !important;
        transform: scale(1) !important;
      }
      
      
      .flip-card-left, .flip-cards-right {
        transform: scale(1) !important;
      }
      
      .flip-card-inner {
        padding: 8px !important;
      }
      
      .flip-card-front, .flip-card-back {
        padding: 8px !important;
      }
      
      /* iPhone tabs container optimization */
      /* iPhone tabs container optimization - ensure readable size */
      .tabs-container {
        transform: scale(1) !important;
        max-width: 100% !important;
        margin: 1rem auto !important;
      }
      
      .tabs-container * {
        font-size: 1em !important;
      }
      
      .tabs-header {
        transform: scale(1) !important;
        display: flex !important;
        flex-wrap: wrap !important;
        gap: 8px !important;
        padding: 10px !important;
        justify-content: center !important;
      }
      
      .tab-button {
        font-size: 0.9em !important;
        padding: 10px 12px !important;
        flex: 0 1 auto !important;
        min-width: fit-content !important;
        white-space: nowrap !important;
      }
      
      .sub-tabs-container {
        transform: scale(1) !important;
        max-width: 100% !important;
        margin: 1rem auto !important;
      }
      
      .sub-tabs-header {
        transform: scale(1) !important;
        display: flex !important;
        flex-direction: row !important;
        flex-wrap: wrap !important;
        gap: 6px !important;
        padding: 8px !important;
        justify-content: center !important;
        width: 100% !important;
        background: linear-gradient(135deg, #666 0%, #888 100%) !important;
        border-radius: 10px !important;
        border-bottom: none !important;
        min-width: auto !important;
        max-width: 100% !important;
      }
      
      .sub-tab-button {
        font-size: 0.85em !important;
        padding: 8px 10px !important;
        flex: 0 1 auto !important;
        min-width: fit-content !important;
        white-space: nowrap !important;
        width: auto !important;
        text-align: center !important;
      }
      
      .sub-tab-content.active {
        display: block !important;
      }
      
      .sub-tabs-container {
        display: flex !important;
        flex-direction: column !important;
      }
      
      /* Specific scaling for reward optimization sub-tabs - removed, using responsive design instead */
      #reward-optimization .sub-tabs-container {
        transform: scale(1) !important;
        max-width: 100% !important;
        margin: 1rem auto !important;
      }
      
      #reward-optimization .sub-tabs-header {
        transform: scale(1) !important;
        display: flex !important;
        flex-direction: row !important;
        flex-wrap: wrap !important;
        gap: 6px !important;
        padding: 8px !important;
        justify-content: center !important;
        width: 100% !important;
        background: linear-gradient(135deg, #666 0%, #888 100%) !important;
        border-radius: 10px !important;
        border-bottom: none !important;
        min-width: auto !important;
        max-width: 100% !important;
      }
      
      #reward-optimization .sub-tab-button {
        font-size: 0.8em !important;
        padding: 8px 10px !important;
        flex: 0 1 auto !important;
        min-width: fit-content !important;
        white-space: nowrap !important;
        width: auto !important;
        text-align: center !important;
      }
      
      #reward-optimization .sub-tab-content {
        transform: scale(1);
      }
      
      .sub-tab-content {
        font-size: 1em !important;
      }
      
      .sub-tab-content p, .sub-tab-content h3, .sub-tab-content h4 {
        font-size: 0.9em !important;
      }
      
      .reward-formula {
        font-size: 1.2em !important;
      }
      
      .reward-formula * {
        font-size: 0.9em !important;
      }
      
      /* Exclude KaTeX internal elements from font-size inheritance - let KaTeX handle its own sizing */
      .reward-formula .katex,
      .reward-formula .katex-display {
        font-size: 1em !important;
        line-height: normal !important;
      }
      
      .reward-formula .katex *,
      .reward-formula .katex-display *,
      .reward-formula .katex-html,
      .reward-formula .katex-html *,
      .reward-formula .katex svg,
      .reward-formula .katex-display svg,
      .reward-formula .katex svg *,
      .reward-formula .katex-display svg * {
        font-size: 1em !important;
        line-height: normal !important;
      }
      
      /* Sub-tab-content formula styles for iPad */
      .sub-tab-content .reward-formula {
        overflow-x: auto !important;
        overflow-y: visible !important;
        white-space: nowrap !important;
        width: 100% !important;
        box-sizing: border-box !important;
        min-width: 0 !important;
        display: block !important;
      }
      
      .sub-tab-content .reward-formula * {
        white-space: nowrap !important;
      }
      
      .sub-tab-content .reward-formula .MathJax,
      .sub-tab-content .reward-formula .MathJax_Display {
        max-width: 100% !important;
        width: 100% !important;
        min-width: fit-content !important;
        overflow-x: auto !important;
        overflow-y: visible !important;
        white-space: nowrap !important;
        transform: none !important;
        zoom: 1 !important;
      }
      
      .sub-tab-content .reward-formula .MathJax *,
      .sub-tab-content .reward-formula .MathJax_Display * {
        white-space: nowrap !important;
        transform: none !important;
        zoom: 1 !important;
      }
      
      .sub-tab-content .reward-formula .katex,
      .sub-tab-content .reward-formula .katex-display {
        font-size: 1em !important;
        line-height: normal !important;
        min-width: fit-content !important;
        width: auto !important;
        max-width: none !important;
        transform: none !important;
        zoom: 1 !important;
        display: inline-block !important;
      }
      
      .sub-tab-content .reward-formula .katex *,
      .sub-tab-content .reward-formula .katex-display *,
      .sub-tab-content .reward-formula .katex-html,
      .sub-tab-content .reward-formula .katex-html *,
      .sub-tab-content .reward-formula .katex svg,
      .sub-tab-content .reward-formula .katex-display svg,
      .sub-tab-content .reward-formula .katex svg *,
      .sub-tab-content .reward-formula .katex-display svg * {
        font-size: 1em !important;
        line-height: normal !important;
        transform: none !important;
        zoom: 1 !important;
      }
      .sub-tab-content video {
        max-width: 100%;
        height: auto;
        transform: scale(0.85);
        transform-origin: center;
      }
      
      /* Fix reward optimization formula display on iPhone */
      #reward-optimization .sub-tab-content .reward-formula {
        font-size: 1.5em !important;
        padding: 10px !important;
        overflow-x: auto !important;
        overflow-y: visible !important;
        white-space: nowrap !important;
        display: block !important;
        line-height: 1.5 !important;
        width: 100% !important;
        box-sizing: border-box !important;
        min-width: 0 !important;
      }
      
      #reward-optimization .reward-formula * {
        font-size: 1em !important;
        line-height: 1.5 !important;
        white-space: nowrap !important;
      }
      
      #reward-optimization .reward-formula .MathJax,
      #reward-optimization .reward-formula .MathJax_Display {
        font-size: 1em !important;
        max-width: 100% !important;
        width: 100% !important;
        min-width: fit-content !important;
        overflow-x: auto !important;
        overflow-y: visible !important;
        white-space: nowrap !important;
        transform: none !important;
        zoom: 1 !important;
      }
      
      #reward-optimization .reward-formula .MathJax_Display * {
        font-size: 1em !important;
        white-space: nowrap !important;
        transform: none !important;
        zoom: 1 !important;
      }
      
      #reward-optimization .reward-formula .katex,
      #reward-optimization .reward-formula .katex-display {
        font-size: 1em !important;
        line-height: normal !important;
        min-width: fit-content !important;
        width: auto !important;
        max-width: none !important;
        transform: none !important;
        zoom: 1 !important;
        display: inline-block !important;
      }
      
      #reward-optimization .reward-formula .katex *,
      #reward-optimization .reward-formula .katex-display *,
      #reward-optimization .reward-formula .katex-html,
      #reward-optimization .reward-formula .katex-html *,
      #reward-optimization .reward-formula .katex svg,
      #reward-optimization .reward-formula .katex-display svg,
      #reward-optimization .reward-formula .katex svg *,
      #reward-optimization .reward-formula .katex-display svg * {
        font-size: 1em !important;
        line-height: normal !important;
        transform: none !important;
        zoom: 1 !important;
      }
      
      /* Sub-tab-content formula styles for iPhone */
      .sub-tab-content .reward-formula {
        overflow-x: auto !important;
        overflow-y: visible !important;
        white-space: nowrap !important;
        width: 100% !important;
        box-sizing: border-box !important;
        min-width: 0 !important;
        display: block !important;
      }
      
      .sub-tab-content .reward-formula * {
        white-space: nowrap !important;
      }
      
      .sub-tab-content .reward-formula .MathJax,
      .sub-tab-content .reward-formula .MathJax_Display {
        max-width: 100% !important;
        width: 100% !important;
        min-width: fit-content !important;
        overflow-x: auto !important;
        overflow-y: visible !important;
        white-space: nowrap !important;
        transform: none !important;
        zoom: 1 !important;
      }
      
      .sub-tab-content .reward-formula .MathJax *,
      .sub-tab-content .reward-formula .MathJax_Display * {
        white-space: nowrap !important;
        transform: none !important;
        zoom: 1 !important;
      }
      
      .sub-tab-content .reward-formula .katex,
      .sub-tab-content .reward-formula .katex-display {
        font-size: 1em !important;
        line-height: normal !important;
        min-width: fit-content !important;
        width: auto !important;
        max-width: none !important;
        transform: none !important;
        zoom: 1 !important;
        display: inline-block !important;
      }
      
      .sub-tab-content .reward-formula .katex *,
      .sub-tab-content .reward-formula .katex-display *,
      .sub-tab-content .reward-formula .katex-html,
      .sub-tab-content .reward-formula .katex-html *,
      .sub-tab-content .reward-formula .katex svg,
      .sub-tab-content .reward-formula .katex-display svg,
      .sub-tab-content .reward-formula .katex svg *,
      .sub-tab-content .reward-formula .katex-display svg * {
        font-size: 1em !important;
        line-height: normal !important;
        transform: none !important;
        zoom: 1 !important;
      }
      
      /* Scale down all text in reward optimization tabs */
      /* Reward optimization tabs - ensure proper sizing on iPhone */
      #reward-optimization .tabs-container {
        transform: scale(1) !important;
        max-width: 100% !important;
        margin: 1rem auto !important;
      }
      
      #reward-optimization .tabs-header {
        display: flex !important;
        flex-wrap: wrap !important;
        gap: 6px !important;
        padding: 8px !important;
        justify-content: center !important;
      }
      
      #reward-optimization .tab-button {
        font-size: 0.85em !important;
        padding: 8px 10px !important;
        flex: 0 1 auto !important;
        min-width: fit-content !important;
        white-space: nowrap !important;
      }
      
      #reward-optimization .sub-tabs-container {
        transform: scale(1) !important;
        max-width: 100% !important;
        margin: 1rem auto !important;
      }
      
      #reward-optimization .sub-tabs-header {
        transform: scale(1) !important;
        display: flex !important;
        flex-direction: row !important;
        flex-wrap: wrap !important;
        gap: 6px !important;
        padding: 8px !important;
        justify-content: center !important;
        width: 100% !important;
        background: linear-gradient(135deg, #666 0%, #888 100%) !important;
        border-radius: 10px !important;
        border-bottom: none !important;
        min-width: auto !important;
        max-width: 100% !important;
      }
      
      #reward-optimization .sub-tab-button {
        font-size: 0.75em !important;
        padding: 6px 8px !important;
        flex: 0 1 auto !important;
        min-width: fit-content !important;
        white-space: nowrap !important;
        width: auto !important;
        text-align: center !important;
      }
      
      /* iPhone author info optimization - further increase font size */
      .authors {
        font-size: 1.1em !important;
        line-height: 1.4;
      }
      
      .author-item {
        font-size: 1.1em !important;
        margin: 0.4rem 0;
      }
      
      .author-name {
        font-size: 1.1em !important;
      }
      
      .author-affiliation {
        font-size: 1.0em !important;
      }
      
      /* iPhone Header area optimization - 1/3 screen height */
      .hero.is-fullheight {
        height: 33vh !important;
        min-height: 33vh !important;
      }
      
      .hero-video {
        height: 33vh !important;
        min-height: 33vh !important;
      }
      
      /* iPhone Gallery frames further reduced - fix white borders */
      .gallery-item {
        margin: 0 0.5px;
        padding: 0.5px;
        border: none !important;
        background: transparent !important;
    }
    
    .gallery-item video {
      width: 100%;
        max-width: 80px;
        height: auto;
        border-radius: 2px;
        border: none !important;
        background: transparent !important;
      }
      
      .gallery-container {
        padding: 0 2px;
        gap: 2px;
        border: none !important;
        background: transparent !important;
      }
      
      /* Remove all gallery-related borders and backgrounds */
      .gallery-item * {
        border: none !important;
        background: transparent !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    .gallery-item h4 {
        margin: 0.2rem 0 !important;
        padding: 0 !important;
        border: none !important;
        background: transparent !important;
      }
      
      .gallery-item p {
        margin: 0.1rem 0 !important;
        padding: 0 !important;
        border: none !important;
        background: transparent !important;
      }
      
      /* iPhone ensure formulas display normally */
      .reward-formula {
        font-size: 1.05em !important;
      }
      
      .reward-formula * {
        font-size: 0.9em !important;
      }
      
      /* MathJax formula container */
      .MathJax {
        font-size: 1.05em !important;
      }
      
      .MathJax_Display {
        font-size: 1.05em !important;
      }
      
      /* iPhone fix button icon overlap issue - ensure readable text */
      .button {
        font-size: 1.1em !important;
        padding: 0.6rem 1.2rem !important;
        min-height: 3rem !important;
        min-width: 5rem !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        gap: 0.6rem !important;
        color: #fff !important; /* Ensure white text on dark buttons */
      }
      
      .button span {
        font-size: 1.1em !important;
        line-height: 1.3 !important;
        flex-shrink: 0 !important;
        color: inherit !important;
      }
      
      .button .icon {
        font-size: 1.1em !important;
        width: auto !important;
        height: auto !important;
        flex-shrink: 0 !important;
      }
      
      .button i {
        font-size: 1.1em !important;
        color: inherit !important;
      }
      
      /* External link button specific styles - ensure readable */
      .external-link.button {
        font-size: 1.1em !important;
        padding: 0.6rem 1.2rem !important;
        min-height: 3rem !important;
        min-width: 5rem !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        gap: 0.6rem !important;
        color: #fff !important; /* Ensure white text on dark buttons */
      }
      
      .external-link.button span {
        font-size: 1.1em !important;
        line-height: 1.3 !important;
        flex-shrink: 0 !important;
        color: inherit !important;
      }
      
      .external-link.button .icon {
        font-size: 1.1em !important;
        width: auto !important;
        height: auto !important;
        flex-shrink: 0 !important;
      }
      
      .external-link.button i {
        font-size: 1.1em !important;
        color: inherit !important;
      }
      
      /* iPhone ensure Gallery displays normally */
    .gallery-container {
        font-size: 1em !important;
    }
    
    .gallery-item {
        font-size: 1em !important;
      }
      
      .gallery-item video {
        font-size: inherit !important;
      }
      
      .gallery-item h4 {
        font-size: 1em !important;
    }
    
    .gallery-item p {
        font-size: 1em !important;
      }
      
      /* iPhone ensure tab content displays normally */
      .tab-content {
        font-size: 1em !important;
      }
      
      .tab-content * {
        font-size: inherit !important;
      }
      
      .sub-tab-content {
        font-size: 1em !important;
      }
      
      .sub-tab-content * {
        font-size: inherit !important;
      }
      
      /* iPhone Logo maintains original size */
      .floating-nav-trigger {
        background-size: 80%;
      }
      
      .floating-nav-trigger:hover {
        background-size: 80%;
      }
      
      /* Hide "How it works" title on iPhone */
      #how-it-works .title.is-3 {
        display: none !important;
      }
      
      /* Hide Pre-training overview in How it Works section on iPhone */
      #how-it-works .container:first-of-type > div:first-of-type {
        display: none !important;
      }
      
      /* Keep the remark box visible on iPhone */
      #how-it-works div[style*="background: linear-gradient(135deg, #fff5f5"] {
        display: block !important;
        margin-top: 20px !important;
      }
      
      /* Hide interpolation formula in Space Interpolation section on iPhone */
      /* Target the div containing the z_t formula */
      #space-interpolation .container > div[style*="text-align: center"][style*="margin: 20px 0"] {
        display: none !important;
      }
      
      /* More specific selector - the div after h4 (formula div only) */
      #space-interpolation .container > h4 + div[style*="text-align: center"][style*="margin: 20px 0"] {
        display: none !important;
      }
      
      /* Ensure columns container with videos is visible */
      #space-interpolation .container > .columns {
        display: flex !important;
      }
      
      /* Fix adaptation section video layout on iPhone */
      #few-shot-adaptation .container > div[style*="display: flex"][style*="flex-wrap: nowrap"] {
        flex-direction: column !important;
        flex-wrap: wrap !important;
        gap: 15px !important;
        max-height: none !important;
      }
      
      #few-shot-adaptation .container > div[style*="display: flex"] > div[style*="flex: 0 0 40%"] {
        flex: 1 1 auto !important;
        max-width: 100% !important;
        width: 100% !important;
      }
      
      #few-shot-adaptation .container > div[style*="display: flex"] > div[style*="flex: 0 0 auto"] {
        flex: 0 0 auto !important;
        order: 2 !important;
      }
      
      #few-shot-adaptation video {
        max-height: 40vh !important;
      }
      
      .floating-nav-link {
        padding: 6px 10px;
        font-size: 0.7rem;
      }
      
      .floating-nav-sublink {
        padding: 4px 10px 4px 18px;
        font-size: 0.65rem;
      }
    }
    
    /* Mobile touch optimization */
    @media (max-width: 768px) {
      * {
        -webkit-tap-highlight-color: transparent;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
      
      a, button, .floating-nav-trigger {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        -webkit-tap-highlight-color: transparent;
      }
      
      /* Prevent iOS Safari zoom */
      input, textarea, select {
        font-size: 16px;
      }
      
      /* Optimize scroll performance */
      body {
        -webkit-overflow-scrolling: touch;
        overflow-x: hidden;
      }
      
      /* Video playback optimization */
      video {
        transition: opacity 0.3s ease;
        background: #000;
      }
      
      video:not([src]) {
        background: #f5f5f5;
      display: flex;
      align-items: center;
      justify-content: center;
      }
      
      video:not([src])::before {
        content: "Loading...";
        color: #666;
        font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif);
      }
      
      /* Hide "How it works" title on mobile */
      #how-it-works .title.is-3 {
        display: none !important;
      }
      
      /* Hide Pre-training overview in How it Works section on mobile */
      #how-it-works .container:first-of-type > div:first-of-type {
        display: none !important;
      }
      
      /* Keep the remark box visible on mobile */
      #how-it-works div[style*="background: linear-gradient(135deg, #fff5f5"] {
        display: block !important;
        margin-top: 20px !important;
      }
      
      /* Hide interpolation formula in Space Interpolation section on mobile */
      /* Target the div containing the z_t formula */
      #space-interpolation .container > div[style*="text-align: center"][style*="margin: 20px 0"] {
        display: none !important;
      }
      
      /* More specific selector - the second div child after h4 (formula div only) */
      #space-interpolation .container > h4 + div[style*="text-align: center"][style*="margin: 20px 0"] {
        display: none !important;
      }
      
      /* Ensure columns container with videos is visible */
      #space-interpolation .container > .columns {
        display: flex !important;
      }
      
      /* Fix adaptation section video layout on mobile */
      #few-shot-adaptation .container > div[style*="display: flex"][style*="flex-wrap: nowrap"] {
        flex-direction: column !important;
        flex-wrap: wrap !important;
        gap: 15px !important;
        max-height: none !important;
      }
      
      #few-shot-adaptation .container > div[style*="display: flex"] > div[style*="flex: 0 0 40%"] {
        flex: 1 1 auto !important;
        max-width: 100% !important;
        width: 100% !important;
      }
      
      #few-shot-adaptation .container > div[style*="display: flex"] > div[style*="flex: 0 0 auto"] {
        flex: 0 0 auto !important;
        order: 2 !important;
      }
      
      #few-shot-adaptation video {
        max-height: 40vh !important;
      }
      
      .video-error {
        animation: fadeIn 0.3s ease;
      }
      
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      video {
        -webkit-playsinline: true;
      }
    }
    
    /* Ensure reward formulas are contained within boxes - but allow horizontal scrolling on mobile */
    .reward-formula {
      overflow-x: auto !important;
      overflow-y: visible !important;
      white-space: nowrap !important;
      width: 100% !important;
      box-sizing: border-box !important;
      min-width: 0 !important;
      /* Prevent formula compression */
      display: block !important;
    }
    
    .reward-formula * {
      white-space: nowrap !important;
    }
    
    .reward-formula .MathJax,
    .reward-formula .MathJax_Display {
      max-width: 100% !important;
      width: 100% !important;
      min-width: fit-content !important;
      overflow-x: auto !important;
      overflow-y: visible !important;
      white-space: nowrap !important;
      display: block !important;
      /* Prevent MathJax compression */
      transform: none !important;
      zoom: 1 !important;
    }
    
    .reward-formula .MathJax *,
    .reward-formula .MathJax_Display * {
      white-space: nowrap !important;
      /* Prevent MathJax internal compression */
      transform: none !important;
      zoom: 1 !important;
    }
    
    /* Exclude KaTeX internal elements from font-size inheritance */
    .reward-formula .katex,
    .reward-formula .katex-display {
      font-size: 1em !important;
      line-height: normal !important;
      /* Prevent KaTeX compression */
      min-width: fit-content !important;
      width: auto !important;
      max-width: none !important;
      transform: none !important;
      zoom: 1 !important;
      display: inline-block !important;
    }
    
    .reward-formula .katex *,
    .reward-formula .katex-display *,
    .reward-formula .katex-html,
    .reward-formula .katex-html *,
    .reward-formula .katex svg,
    .reward-formula .katex-display svg,
    .reward-formula .katex svg *,
    .reward-formula .katex-display svg * {
      font-size: 1em !important;
      line-height: normal !important;
      /* Prevent KaTeX internal compression */
      transform: none !important;
      zoom: 1 !important;
    }
    
    /* Sub-tab-content formula styles */
    .sub-tab-content .reward-formula {
      overflow-x: auto !important;
      overflow-y: visible !important;
      white-space: nowrap !important;
      width: 100% !important;
      box-sizing: border-box !important;
      min-width: 0 !important;
      display: block !important;
    }
    
    .sub-tab-content .reward-formula * {
      white-space: nowrap !important;
    }
    
    .sub-tab-content .reward-formula .MathJax,
    .sub-tab-content .reward-formula .MathJax_Display {
      max-width: 100% !important;
      width: 100% !important;
      min-width: fit-content !important;
      overflow-x: auto !important;
      overflow-y: visible !important;
      white-space: nowrap !important;
      transform: none !important;
      zoom: 1 !important;
    }
    
    .sub-tab-content .reward-formula .MathJax *,
    .sub-tab-content .reward-formula .MathJax_Display * {
      white-space: nowrap !important;
      transform: none !important;
      zoom: 1 !important;
    }
    
    .sub-tab-content .reward-formula .katex,
    .sub-tab-content .reward-formula .katex-display {
      font-size: 1em !important;
      line-height: normal !important;
      min-width: fit-content !important;
      width: auto !important;
      max-width: none !important;
      transform: none !important;
      zoom: 1 !important;
      display: inline-block !important;
    }
    
    .sub-tab-content .reward-formula .katex *,
    .sub-tab-content .reward-formula .katex-display *,
    .sub-tab-content .reward-formula .katex-html,
    .sub-tab-content .reward-formula .katex-html *,
    .sub-tab-content .reward-formula .katex svg,
    .sub-tab-content .reward-formula .katex-display svg,
    .sub-tab-content .reward-formula .katex svg *,
    .sub-tab-content .reward-formula .katex-display svg * {
      font-size: 1em !important;
      line-height: normal !important;
      transform: none !important;
      zoom: 1 !important;
    }
    
    /* Fix deprecation warning for slider-vertical */
    input[type="range"].slider[orient="vertical"],
    input[type="range"].slider.slider-vertical {
      writing-mode: vertical-lr !important;
      direction: rtl !important;
      -webkit-appearance: none !important;
      -moz-appearance: none !important;
      appearance: none !important;
    }
    
    input[type="range"].slider[orient="vertical"]::-webkit-slider-thumb,
    input[type="range"].slider.slider-vertical::-webkit-slider-thumb {
      -webkit-appearance: none !important;
      appearance: none !important;
    }
    
    input[type="range"].slider[orient="vertical"]::-moz-range-thumb,
    input[type="range"].slider.slider-vertical::-moz-range-thumb {
      -moz-appearance: none !important;
      appearance: none !important;
    }
  </style>
  <!-- jQuery with defer - loads asynchronously but maintains execution order -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js" defer></script>
  <!-- Other scripts can defer to improve initial page load -->
  <script src="./static/js/bulma-carousel.min.js" defer></script>
  <script src="./static/js/bulma-slider.min.js" defer></script>
  <script src="./static/js/index.js" defer></script>
  <!-- Polyfill removed - modern browsers don't need ES6 polyfill, and polyfill.io can be slow -->

  <!-- KaTeX for math rendering - will be loaded after hero video -->
  <!-- Note: KaTeX loading is deferred until hero video is ready -->
  
  <script>
    // IMMEDIATE: Block all non-hero videos before DOMContentLoaded
    // This prevents browsers from starting to load videos with preload="metadata"
    (function() {
      window.heroVideoLoaded = false;
      
      // Block all videos immediately (before DOM is ready)
      const blockAllVideos = () => {
        const allVideos = document.querySelectorAll('video');
        allVideos.forEach(video => {
          // Skip hero videos
          if (video.id === 'hero-video-main' || video.id === 'hero-video-mobile') {
            return;
          }
          
          // Immediately set preload to none and pause any loading
          video.preload = 'none';
          video.pause();
          // Remove src temporarily to prevent loading
          if (video.src) {
            video.setAttribute('data-temp-src', video.src);
            video.removeAttribute('src');
          }
          const source = video.querySelector('source');
          if (source && source.src) {
            source.setAttribute('data-temp-src', source.src);
            source.removeAttribute('src');
          }
        });
      };
      
      // Try to block immediately if DOM is already loaded
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', blockAllVideos);
      } else {
        blockAllVideos();
      }
    })();
    
    // Start loading hero video EARLY - before DOMContentLoaded
    // This allows the browser to start fetching the video file as soon as possible
    (function() {
      // Try to get video elements immediately if DOM is ready, otherwise wait
      const initHeroVideo = () => {
        const heroVideoMain = document.getElementById('hero-video-main');
        const heroVideoMobile = document.getElementById('hero-video-mobile');
        
        function showHeroVideo(video) {
          if (!video) return;
          
          // Set high priority for hero video
          if (video.setAttribute) {
            video.setAttribute('fetchpriority', 'high');
          }
          
          // Show video as soon as we have enough data to start playing
          const showVideo = () => {
            video.style.opacity = '1';
            video.play().catch(err => {
              console.log('Video autoplay prevented:', err);
            });
          };
          
          // Mark hero video as loaded VERY EARLY - when metadata is available
          // This allows other videos to start loading much sooner
          const markHeroVideoLoaded = () => {
            if (!window.heroVideoLoaded) {
              window.heroVideoLoaded = true;
              console.log(' Hero video ready! Other videos can now load.');
              // Trigger event to notify other scripts
              window.dispatchEvent(new CustomEvent('heroVideoLoaded'));
            }
          };
          
          // Mark as loaded when metadata is available (much earlier than loadeddata)
          // This allows other resources to start loading immediately
          if (video.readyState >= 1) {
            // Metadata already available
            markHeroVideoLoaded();
            if (video.readyState >= 2) {
              showVideo();
            }
          } else {
            // Listen for loadedmetadata - happens very early, just after metadata loads
            video.addEventListener('loadedmetadata', () => {
              markHeroVideoLoaded();
              // If we already have enough data, show immediately
              if (video.readyState >= 2) {
                showVideo();
              }
            }, { once: true });
            
            // Also listen for loadeddata - happens when we have enough data to start playing
            video.addEventListener('loadeddata', () => {
              showVideo();
            }, { once: true });
            
            // Fallback: also listen for canplay
            video.addEventListener('canplay', showVideo, { once: true });
            
            // Fallback: show after a delay even if events don't fire
            setTimeout(() => {
              if (video.readyState >= 1) {
                markHeroVideoLoaded();
              }
              if (video.readyState >= 2) {
                showVideo();
              }
            }, 500);
          }
        }
        
        // Priority load hero videos - only load the one that's visible
        // This prevents loading both desktop and mobile versions simultaneously
        const isMobile = window.innerWidth <= 768 || window.matchMedia('(max-width: 768px)').matches;
        
        if (isMobile && heroVideoMobile) {
          // Mobile device - load mobile version
          heroVideoMobile.setAttribute('fetchpriority', 'high');
          heroVideoMobile.load();
          showHeroVideo(heroVideoMobile);
          // Prevent desktop version from loading
          if (heroVideoMain) {
            heroVideoMain.preload = 'none';
            heroVideoMain.removeAttribute('src');
            const source = heroVideoMain.querySelector('source');
            if (source) source.removeAttribute('src');
          }
        } else if (heroVideoMain) {
          // Desktop device - load desktop version
          heroVideoMain.setAttribute('fetchpriority', 'high');
          heroVideoMain.load();
          showHeroVideo(heroVideoMain);
          // Prevent mobile version from loading
          if (heroVideoMobile) {
            heroVideoMobile.preload = 'none';
            heroVideoMobile.removeAttribute('src');
            const source = heroVideoMobile.querySelector('source');
            if (source) source.removeAttribute('src');
          }
        }
      };
      
      // Try to initialize immediately if DOM is ready
      if (document.readyState === 'loading') {
        // DOM is still loading, wait for DOMContentLoaded
        document.addEventListener('DOMContentLoaded', initHeroVideo);
      } else {
        // DOM is already ready, initialize immediately
        initHeroVideo();
      }
    })();
    
    document.addEventListener('DOMContentLoaded', function() {
      // KaTeX math rendering will be initialized after hero video loads
      // (see loadKaTeXAfterHeroVideo function below)
      
      // Restore video sources when hero video is ready - but DON'T restore immediately
      // Only restore when videos are actually needed (when they enter viewport)
      const restoreVideoSources = () => {
        // Don't restore all video sources immediately - this causes premature loading
        // Instead, let Intersection Observer handle restoration when videos are visible
        console.log(' Hero video ready - other videos will load on demand when visible');
      };
      
      // Wait for hero video to load, then restore sources and load KaTeX
      const loadKaTeXAfterHeroVideo = () => {
        // Restore video sources
        restoreVideoSources();
        
        // Load non-critical CSS and KaTeX after hero video is ready
        // Use requestIdleCallback to delay loading until browser is idle
        const loadNonCriticalResources = () => {
          console.log(' Loading non-critical CSS and KaTeX after hero video is ready...');
          
          // Load non-critical CSS files (carousel, slider, icons) with delay
          const nonCriticalCSS = [
            './static/css/bulma-carousel.min.css',
            './static/css/bulma-slider.min.css',
            'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css',
            'https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css'
          ];
          
          // Stagger CSS loading to avoid blocking
          nonCriticalCSS.forEach((cssUrl, index) => {
            setTimeout(() => {
              const link = document.createElement('link');
              link.rel = 'stylesheet';
              link.href = cssUrl;
              document.head.appendChild(link);
            }, index * 200); // 200ms delay between each CSS file
          });
        };
        
        // Delay non-critical resources loading
        if ('requestIdleCallback' in window) {
          requestIdleCallback(loadNonCriticalResources, { timeout: 2000 });
        } else {
          setTimeout(loadNonCriticalResources, 1000);
        }
        
        // Load KaTeX CSS and JS with delay - only load when needed
        const loadKaTeX = () => {
          // Load KaTeX CSS (original CSS needed for proper math rendering)
          const katexCSS = document.createElement('link');
          katexCSS.rel = 'stylesheet';
          katexCSS.href = 'https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css';
          document.head.appendChild(katexCSS);
          
          // Load KaTeX JS with delay
          setTimeout(() => {
            const katexJS = document.createElement('script');
            katexJS.src = 'https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js';
            katexJS.defer = true;
            katexJS.onload = function() {
              // Load auto-render after main KaTeX is loaded
              setTimeout(() => {
                const autoRenderJS = document.createElement('script');
                autoRenderJS.src = 'https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js';
                autoRenderJS.defer = true;
                autoRenderJS.onload = function() {
                  // Initialize KaTeX rendering (using system fonts, no external font loading)
                  if (typeof renderMathInElement !== 'undefined') {
                    renderMathInElement(document.body, {
                      delimiters: [
                        {left: '$$', right: '$$', display: true},
                        {left: '$', right: '$', display: false},
                        {left: '\\[', right: '\\]', display: true},
                        {left: '\\(', right: '\\)', display: false}
                      ],
                      throwOnError: false,
                      strict: false,
                      fleqn: false,
                      output: 'html',
                      trust: false
                    });
                    console.log(' KaTeX loaded and initialized (using system fonts, no external font loading)');
                  }
                };
                document.head.appendChild(autoRenderJS);
              }, 500);
            };
            document.head.appendChild(katexJS);
          }, 1000);
        };
        
        // Delay KaTeX loading even more - only when user scrolls or after longer delay
        if ('requestIdleCallback' in window) {
          requestIdleCallback(loadKaTeX, { timeout: 3000 });
        } else {
          setTimeout(loadKaTeX, 2000);
        }
      };
      
      if (window.heroVideoLoaded) {
        loadKaTeXAfterHeroVideo();
      } else {
        window.addEventListener('heroVideoLoaded', loadKaTeXAfterHeroVideo, { once: true });
      }
    });
  </script>
    
  <script>

    // Check HTTP Only Cookie
    // const cookies = document.cookie.split("; ").reduce((acc, c) => {
    //   const [key, val] = c.split("=");
    //   acc[key] = val;
    //   return acc;
    // }, {});

    // console.log("Current cookies:", cookies); // Debug log
    // console.log("Auth cookie value:", cookies.auth); // Debug log

    // Check if running locally (localhost or file://)
    // const isLocal = window.location.hostname === 'localhost' || 
    //                 window.location.hostname === '127.0.0.1' || 
    //                 window.location.protocol === 'file:';

    // if (!isLocal && cookies.auth !== "1") {
    //   console.log("Not authenticated, redirecting to login"); // Debug log
    //   window.location.href = "/login.html"; // Redirect to login page if not authenticated
    // } else {
    //   console.log("Authenticated successfully or running locally"); // Debug log
    // }

    
    // Global variables and functions
    let currentVideoIndex = 0;
    let isAutoPlaying = false;
    const videoOrder = [
      'video-stand-still',
      'video-go-forward', 
      'video-strafe-left',
      'video-go-backward',
      'video-strafe-right',
      'video-turn-anticlockwise',
      'video-turn-clockwise'
    ];
    
    // Global functions
    function handleSubTabClick(subTabId, event) {
      // If auto-playing, show notification
      if (isAutoPlaying) {
        showStopPlayFirstTip();
        return;
      }
      
      // Stop all other videos when switching tabs
      // Map subTabId to videoId
      const tabToVideoMap = {
        'stand-still': 'video-stand-still',
        'go-forward': 'video-go-forward',
        'strafe-left': 'video-strafe-left',
        'go-backward': 'video-go-backward',
        'strafe-right': 'video-strafe-right',
        'turn-anticlockwise': 'video-turn-anticlockwise',
        'turn-clockwise': 'video-turn-clockwise'
      };
      
      // Get the current tab's video ID
      const currentVideoId = tabToVideoMap[subTabId];
      
      // Stop all videos except the current one
      videoOrder.forEach(videoId => {
        if (videoId !== currentVideoId) {
          const video = document.getElementById(videoId);
          if (video && !video.paused) {
            video.pause();
            video.currentTime = 0; // Reset to beginning
          }
        }
      });
      
      // Normal tab switching (no video reset)
      showSubTab(subTabId, event ? event.target : null);
    }
    
    // Show stop playback notification
    function showStopPlayFirstTip() {
      // Create notification element
      const tip = document.createElement('div');
      tip.textContent = 'Stop play first';
      tip.style.cssText = `
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 10px 20px;
        border-radius: 5px;
        font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif);
        font-size: 14px;
        z-index: 10000;
        pointer-events: none;
      `;
      
      document.body.appendChild(tip);
      
      // Remove notification after 2 seconds
      setTimeout(() => {
        if (tip.parentNode) {
          tip.parentNode.removeChild(tip);
        }
      }, 2000);
    }
    
    // Set timeline color immediately after page load
    window.addEventListener('load', function() {
      const timelineSlider = document.getElementById('timelineSlider');
      if (timelineSlider) {
        // Add dynamic styles for thumb
        const dynamicStyle = document.createElement('style');
        dynamicStyle.id = 'timeline-green-style';
        dynamicStyle.textContent = `
          #timelineSlider::-webkit-slider-thumb {
            background: #5a8a2a !important;
          }
          #timelineSlider::-moz-range-thumb {
            background: #5a8a2a !important;
          }
        `;
        document.head.appendChild(dynamicStyle);
      }
    });
    
    // Video loading performance monitoring
    document.addEventListener('DOMContentLoaded', function() {
      const videoPerformanceData = [];
      
      function monitorVideoLoading(video, videoName) {
        if (!video) return;
        
        // Get video source
        const source = video.querySelector('source');
        const videoSrc = source ? source.src : (video.src || video.getAttribute('src') || 'unknown');
        
        // Skip if no source
        if (videoSrc === 'unknown' && !video.src) {
          console.log(` Skipping video ${videoName}: No source found`);
          return;
        }
        
        const startTime = performance.now();
        
        const perfData = {
          name: videoName || videoSrc.split('/').pop(),
          src: videoSrc,
          timings: {},
          size: null,
          readyState: []
        };
        
        // Track loadstart
        video.addEventListener('loadstart', () => {
          perfData.timings.loadstart = performance.now() - startTime;
          perfData.readyState.push({ state: 'loadstart', time: performance.now() - startTime });
        }, { once: true });
        
        // Track loadedmetadata
        video.addEventListener('loadedmetadata', () => {
          perfData.timings.metadata = performance.now() - startTime;
          perfData.readyState.push({ state: 'loadedmetadata', time: performance.now() - startTime });
        }, { once: true });
        
        // Track loadeddata
        video.addEventListener('loadeddata', () => {
          perfData.timings.data = performance.now() - startTime;
          perfData.readyState.push({ state: 'loadeddata', time: performance.now() - startTime });
        }, { once: true });
        
        // Track canplay
        video.addEventListener('canplay', () => {
          perfData.timings.canplay = performance.now() - startTime;
          perfData.readyState.push({ state: 'canplay', time: performance.now() - startTime });
        }, { once: true });
        
        // Track canplaythrough
        video.addEventListener('canplaythrough', () => {
          perfData.timings.canplaythrough = performance.now() - startTime;
          perfData.readyState.push({ state: 'canplaythrough', time: performance.now() - startTime });
        }, { once: true });
        
        // Track playing
        video.addEventListener('playing', () => {
          perfData.timings.playing = performance.now() - startTime;
          perfData.readyState.push({ state: 'playing', time: performance.now() - startTime });
          logVideoPerformance(perfData);
        }, { once: true });
        
        // Track errors
        video.addEventListener('error', (e) => {
          perfData.timings.error = performance.now() - startTime;
          perfData.error = e;
          console.error(`[Video Performance] ${perfData.name} ERROR:`, e);
          logVideoPerformance(perfData);
        }, { once: true });
        
        // Try to get file size
        if (videoSrc && videoSrc.startsWith('./')) {
          fetch(videoSrc, { method: 'HEAD' })
            .then(response => {
              const contentLength = response.headers.get('content-length');
              if (contentLength) {
                perfData.size = (parseInt(contentLength) / 1024 / 1024).toFixed(2) + ' MB';
              }
            })
            .catch(() => {});
        }
        
        videoPerformanceData.push(perfData);
      }
      
      function logVideoPerformance(perfData) {
        console.group(` [Video Performance] ${perfData.name}`);
        console.log('Source:', perfData.src);
        if (perfData.size) {
          console.log('File Size:', perfData.size);
        }
        console.log('Timings:');
        if (perfData.timings.loadstart) console.log(`    Load Start: ${perfData.timings.loadstart.toFixed(2)}ms`);
        if (perfData.timings.metadata) console.log(`   Metadata: ${perfData.timings.metadata.toFixed(2)}ms`);
        if (perfData.timings.data) console.log(`   Data: ${perfData.timings.data.toFixed(2)}ms`);
        if (perfData.timings.canplay) console.log(`    Can Play: ${perfData.timings.canplay.toFixed(2)}ms`);
        if (perfData.timings.canplaythrough) console.log(`   Can Play Through: ${perfData.timings.canplaythrough.toFixed(2)}ms`);
        if (perfData.timings.playing) console.log(`   Playing: ${perfData.timings.playing.toFixed(2)}ms`);
        if (perfData.error) console.error('   Error:', perfData.error);
        console.groupEnd();
      }
      
      // Monitor all videos on the page
      const allVideos = document.querySelectorAll('video');
      console.log(` Found ${allVideos.length} videos on the page. Starting performance monitoring...`);
      
      allVideos.forEach((video, index) => {
        // Get video identifier
        let videoName = video.id || '';
        if (!videoName) {
          const source = video.querySelector('source');
          if (source && source.src) {
            videoName = source.src.split('/').pop().replace('_720p.mp4', '').replace('_firefox', '');
          } else if (video.src) {
            videoName = video.src.split('/').pop().replace('_720p.mp4', '').replace('_firefox', '');
          }
        }
        if (!videoName) {
          videoName = `Video-${index + 1}`;
        }
        
        monitorVideoLoading(video, videoName);
      });
      
      // Log summary after 5 seconds
      setTimeout(() => {
        console.group(' Video Loading Performance Summary');
        const loadedVideos = videoPerformanceData.filter(v => v.timings.canplay);
        const slowVideos = videoPerformanceData.filter(v => v.timings.canplay && v.timings.canplay > 3000);
        
        console.log(`Total Videos: ${videoPerformanceData.length}`);
        console.log(`Loaded Videos: ${loadedVideos.length}`);
        console.log(`Slow Videos (>3s): ${slowVideos.length}`);
        
        if (slowVideos.length > 0) {
          console.warn(' Slow Loading Videos:');
          slowVideos.sort((a, b) => (b.timings.canplay || 0) - (a.timings.canplay || 0));
          slowVideos.forEach(v => {
            console.warn(`  - ${v.name}: ${v.timings.canplay?.toFixed(2)}ms`);
          });
        }
        
        console.groupEnd();
      }, 5000);
    });
    
    // Navigation bar functionality
    document.addEventListener('DOMContentLoaded', function() {
      const floatingNavLinks = document.querySelectorAll('.floating-nav-link');
      const floatingNavSublinks = document.querySelectorAll('.floating-nav-sublink');
      
      // Smooth scroll to target section
      function smoothScrollTo(targetId) {
        const targetElement = document.getElementById(targetId);
        if (targetElement) {
          targetElement.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      }
      
      // Smooth scroll when clicking floating nav links
      floatingNavLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const targetId = this.getAttribute('href').substring(1);
          smoothScrollTo(targetId);
        });
      });
      
      // Smooth scroll when clicking floating subsection links
      floatingNavSublinks.forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const targetId = this.getAttribute('href').substring(1);
          smoothScrollTo(targetId);
        });
      });
      
      // Highlight current section on scroll
      function highlightCurrentSection() {
        const sections = document.querySelectorAll('section[id]');
        const scrollPos = window.scrollY + 100;
        
        sections.forEach(section => {
          const sectionTop = section.offsetTop;
          const sectionHeight = section.offsetHeight;
          const sectionId = section.getAttribute('id');
          
          if (scrollPos >= sectionTop && scrollPos < sectionTop + sectionHeight) {
            // Update right floating navigation bar
            floatingNavLinks.forEach(link => {
              link.classList.remove('active');
              if (link.getAttribute('href') === '#' + sectionId) {
                link.classList.add('active');
              }
            });
            
            // Update right floating subsection navigation bar
            floatingNavSublinks.forEach(link => {
              link.classList.remove('active');
              if (link.getAttribute('href') === '#' + sectionId) {
                link.classList.add('active');
              }
            });
          }
        });
      }
      
      // Listen to scroll events
      window.addEventListener('scroll', highlightCurrentSection);
      
      // Initialize highlighting
      highlightCurrentSection();
    });
    
    // Dynamically adjust flip box height to match image
    document.addEventListener('DOMContentLoaded', function() {
      const flipCards = document.querySelectorAll('.flip-card');
      flipCards.forEach(card => {
        const img = card.querySelector('img');
        if (img) {
          img.onload = function() {
            const imgHeight = img.naturalHeight;
            const imgWidth = img.naturalWidth;
            const containerWidth = card.offsetWidth;
            const aspectRatio = imgHeight / imgWidth;
            const calculatedHeight = containerWidth * aspectRatio;
            
            card.style.height = calculatedHeight + 'px';
            card.querySelector('.flip-card-inner').style.height = calculatedHeight + 'px';
          };
          
          // If image is already loaded
          if (img.complete) {
            img.onload();
          }
        }
      });
      
      // Video timeline control functionality
      const timelineSlider = document.getElementById('timelineSlider');
      const frameVideo = document.getElementById('frameVideo');
      const currentTimeDisplay = document.getElementById('currentTime');
      
      if (timelineSlider && frameVideo) {
        // Key time points (seconds)
        const keyPoints = [0, 5, 9, 11.5, 16.5, 18.2, 19.5, 22, 25.1, 28.8];
        const keyImages = [
          './resources/goal_reaching/rendered/goal1.png',
          './resources/goal_reaching/rendered/goal2.png',
          './resources/goal_reaching/rendered/goal3.png',
          './resources/goal_reaching/rendered/goal4.png',
          './resources/goal_reaching/rendered/goal5.png',
          './resources/goal_reaching/rendered/goal6.png',
          './resources/goal_reaching/rendered/goal7.png',
          './resources/goal_reaching/rendered/goal8.png',
          './resources/goal_reaching/rendered/goal9.png',
          './resources/goal_reaching/rendered/goal1.png'
        ];
        
        // Create key point markers
        const timelineMarks = document.getElementById('timelineMarks');
        const timelineContainer = document.querySelector('.video-timeline-container');
        
        // Create play buttons
        const playButton = document.createElement('button');
        playButton.className = 'play-button paused';
        playButton.title = 'Play/Pause';
        timelineContainer.appendChild(playButton);
        
        // Play button click events
        playButton.addEventListener('click', function() {
          // Priority load full video when play button is clicked
          if (frameVideo.readyState < 2) {
            // Video not ready yet, prioritize loading
            console.log(' Priority loading frameVideo for playback...');
            frameVideo.preload = 'auto';
            frameVideo.setAttribute('fetchpriority', 'high');
            
            // Pause other videos to free up bandwidth for frameVideo
            document.querySelectorAll('video:not(#frameVideo):not(#hero-video-main):not(#hero-video-mobile)').forEach(video => {
              if (!video.paused) {
                video.pause();
              }
              // Reduce priority of other videos
              if (video.preload === 'auto') {
                video.preload = 'metadata';
              }
            });
            
            // Restore src if it was blocked
            if (frameVideo.hasAttribute('data-temp-src') && !frameVideo.src) {
              frameVideo.src = frameVideo.getAttribute('data-temp-src');
              frameVideo.removeAttribute('data-temp-src');
            }
            const frameSource = frameVideo.querySelector('source');
            if (frameSource && frameSource.hasAttribute('data-temp-src') && !frameSource.src) {
              frameSource.src = frameSource.getAttribute('data-temp-src');
              frameSource.removeAttribute('data-temp-src');
            }
            
            // Force load with high priority
            frameVideo.load();
            
            // Wait for video to be ready before playing
            frameVideo.addEventListener('canplay', function playWhenReady() {
              frameVideo.removeEventListener('canplay', playWhenReady);
              frameVideo.play().catch(err => {
                console.log('Play failed, trying again:', err);
                setTimeout(() => frameVideo.play(), 100);
              });
              playButton.className = 'play-button playing';
              playButton.title = 'Pause';
            }, { once: true });
          } else if (frameVideo.paused) {
            // Video is ready, just play
            frameVideo.play().catch(err => {
              console.log('Play failed:', err);
            });
            this.className = 'play-button playing';
            this.title = 'Pause';
          } else {
            // Video is playing, pause it
            frameVideo.pause();
            this.className = 'play-button paused';
            this.title = 'Play';
          }
        });
        
        // Video playback status monitoring
        frameVideo.addEventListener('play', function() {
          playButton.className = 'play-button playing';
          playButton.title = 'Pause';
        });
        
        frameVideo.addEventListener('pause', function() {
          playButton.className = 'play-button paused';
          playButton.title = 'Play';
        });
        
        keyPoints.forEach((point, index) => {
          // Create key points on progress bar
          const keyPoint = document.createElement('div');
          keyPoint.style.position = 'absolute';
          keyPoint.style.left = (point / 30 * 100) + '%';
          keyPoint.style.top = '70px'; // Align with progress bar
          keyPoint.style.width = '8px';
          keyPoint.style.height = '8px';
          keyPoint.style.backgroundColor = '#3a6902';
          keyPoint.style.borderRadius = '50%';
          keyPoint.style.transform = 'translateX(-50%)';
          keyPoint.style.zIndex = '15';
          keyPoint.style.border = '2px solid #fff';
          keyPoint.style.boxShadow = '0 2px 4px rgba(0,0,0,0.3)';
          
          // Create image element
          const img = document.createElement('img');
          img.src = keyImages[index];
          img.style.width = '60px';
          img.style.height = 'auto'; // Let height adapt automatically
          img.style.objectFit = 'contain'; // Maintain original ratio, no cropping
          img.style.borderRadius = '8px';
          img.style.position = 'absolute';
          img.style.left = (point / 30 * 100) + '%';
          img.style.transform = 'translateX(-50%)';
          img.style.cursor = 'pointer';
          img.style.zIndex = '10';
          img.style.display = 'block';
          img.style.backgroundColor = '#fff';
          img.style.padding = '4px';
          img.style.boxShadow = '0 2px 8px rgba(0,0,0,0.15)';
          img.style.transition = 'all 0.3s ease';
          img.alt = `Keyframe ${index + 1}`;
          
          // Create connecting lines
          const line = document.createElement('div');
          line.style.position = 'absolute';
          line.style.left = (point / 30 * 100) + '%';
          line.style.transform = 'translateX(-50%)';
          line.style.width = '2px';
          line.style.backgroundColor = '#3a6902';
          line.style.zIndex = '5';
          
          // Determine image and line position based on index
          if (index % 2 === 0) {
            // Even index: image above
            img.style.top = '0px';
            line.style.top = '40px';
            line.style.height = '36px';
          } else {
            // Odd index: image below
            img.style.top = '90px';
            line.style.top = '70px';
            line.style.height = '20px';
          }
          
          // Hover effects
          img.addEventListener('mouseenter', function() {
            this.style.transform = 'translateX(-50%) scale(1.3)';
            this.style.boxShadow = '0 6px 20px rgba(0,0,0,0.3)';
            this.style.zIndex = '20';
            keyPoint.style.transform = 'translateX(-50%) scale(1.5)';
            line.style.backgroundColor = '#2d4f02';
          });
          
          img.addEventListener('mouseleave', function() {
            this.style.transform = 'translateX(-50%) scale(1)';
            this.style.boxShadow = '0 2px 8px rgba(0,0,0,0.15)';
            this.style.zIndex = '10';
            keyPoint.style.transform = 'translateX(-50%) scale(1)';
            line.style.backgroundColor = '#3a6902';
          });
          
          // Image loading error handling
          img.onerror = function() {
            console.log('Image loading failed:', keyImages[index]);
            console.log('Image path:', this.src);
            this.style.backgroundColor = '#ff6b6b';
            this.style.color = 'white';
            this.style.display = 'flex';
            this.style.alignItems = 'center';
            this.style.justifyContent = 'center';
            this.style.fontSize = '12px';
            this.textContent = 'Error';
          };
          
          img.onload = function() {
            console.log('Image loaded successfully:', keyImages[index]);
          };
          
          // Click image to jump to corresponding time
          img.addEventListener('click', function() {
            timelineSlider.value = point;
            frameVideo.currentTime = point;
            updateTimeDisplay(point);
            lastUpdateTime = 0;
            updateProgressBarColor();
          });
          
          // Click key point to also jump
          keyPoint.addEventListener('click', function() {
            timelineSlider.value = point;
            frameVideo.currentTime = point;
            updateTimeDisplay(point);
            lastUpdateTime = 0;
            updateProgressBarColor();
          });
          
          // Add to timelineMarks container
          timelineMarks.appendChild(keyPoint);
          timelineMarks.appendChild(line);
          timelineMarks.appendChild(img);
        });
        
        // Slider change events
        timelineSlider.addEventListener('input', function() {
          const time = parseFloat(this.value);
          frameVideo.currentTime = time;
          updateTimeDisplay(time);
          // Force immediate update for user input
          lastUpdateTime = 0;
          updateProgressBarColor();
        });
        
        // Throttle function for performance
        let lastUpdateTime = 0;
        const throttleDelay = 50; // Update at most every 50ms
        
        // Video time update events
        frameVideo.addEventListener('timeupdate', function() {
          const currentTime = this.currentTime;
          timelineSlider.value = currentTime;
          updateTimeDisplay(currentTime);
          
          // Throttle progress bar color updates
          const now = Date.now();
          if (now - lastUpdateTime >= throttleDelay) {
            updateProgressBarColor();
            lastUpdateTime = now;
          }
        });
        
        // Update time display
        function updateTimeDisplay(time) {
          const minutes = Math.floor(time / 60);
          const seconds = Math.floor(time % 60);
          const milliseconds = Math.floor((time % 1) * 100);
          currentTimeDisplay.textContent = 
            `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}.${milliseconds.toString().padStart(2, '0')}`;
        }
        
        // Update progress bar color (green for reached, gray for unreached)
        let lastPercentage = -1; // Track last percentage to avoid unnecessary updates
        function updateProgressBarColor() {
          const value = parseFloat(timelineSlider.value) || 0;
          const max = parseFloat(timelineSlider.max) || 25;
          if (max <= 0) return; // Don't update if max is invalid
          
          const percentage = Math.max(0, Math.min(100, (value / max) * 100));
          
          // Only update if percentage changed significantly (avoid unnecessary updates)
          if (Math.abs(percentage - lastPercentage) < 0.1 && lastPercentage >= 0) {
            return;
          }
          lastPercentage = percentage;
          
          // Get or create style element - always use the same ID
          let trackStyle = document.getElementById('timeline-track-style');
          if (!trackStyle) {
            trackStyle = document.createElement('style');
            trackStyle.id = 'timeline-track-style';
            // Insert at the end of head to ensure highest priority
            document.head.appendChild(trackStyle);
          }
          
          // Use layered backgrounds: green on top, gray below
          // Use !important to override any static CSS
          // Set both background and background-image for maximum compatibility
          const gradient = `linear-gradient(to right, #5a8a2a 0%, #5a8a2a ${percentage}%, transparent ${percentage}%, transparent 100%)`;
          
          // Force update by removing and re-adding the style element
          // This ensures the browser re-applies the styles
          if (trackStyle.parentNode) {
            trackStyle.parentNode.removeChild(trackStyle);
          }
          trackStyle = document.createElement('style');
          trackStyle.id = 'timeline-track-style';
          trackStyle.textContent = `
            #timelineSlider::-webkit-slider-runnable-track {
              background: #ccc !important;
              background-image: ${gradient} !important;
              background-size: 100% 100% !important;
              background-repeat: no-repeat !important;
              background-position: 0 0 !important;
            }
            #timelineSlider::-moz-range-track {
              background: #ccc !important;
              background-image: ${gradient} !important;
              background-size: 100% 100% !important;
              background-repeat: no-repeat !important;
              background-position: 0 0 !important;
            }
          `;
          // Append to end of head for highest priority
          document.head.appendChild(trackStyle);
        }
        
        // Set slider thumb color and positioning
        const style = document.createElement('style');
        style.textContent = `
          #timelineSlider::-webkit-slider-thumb {
            background: #5a8a2a !important;
            margin-top: -6px !important;
          }
          #timelineSlider::-moz-range-thumb {
            background: #5a8a2a !important;
          }
        `;
        document.head.appendChild(style);
        
        // Initialize progress bar color
        updateProgressBarColor();
        
        // Initialize
        timelineSlider.max = frameVideo.duration || 30;
        updateTimeDisplay(0);
        updateProgressBarColor();
        
        // Ensure initialization after video loads
        frameVideo.addEventListener('loadedmetadata', function() {
          timelineSlider.max = this.duration;
          updateTimeDisplay(0);
          updateProgressBarColor();
        });
        
        // If video is already loaded, initialize immediately
        if (frameVideo.readyState >= 1) {
          timelineSlider.max = frameVideo.duration;
          updateTimeDisplay(0);
          updateProgressBarColor();
        }
      }
    });
    
    // Tab switching functionality
    function showTab(tabId) {
      // Hide all tab content
      const allTabs = document.querySelectorAll('.tab-content');
      allTabs.forEach(tab => tab.classList.remove('active'));
      
      // Remove active class from all buttons
      const allButtons = document.querySelectorAll('.tab-button');
      allButtons.forEach(button => button.classList.remove('active'));
      
      // Show selected tab content
      document.getElementById(tabId).classList.add('active');
      
      // Activate corresponding button
      event.target.classList.add('active');
      
      // If Base Height Control tab, reinitialize video background
      if (tabId === 'base-height') {
        setTimeout(() => {
          initializeVideoCovers();
        }, 100);
      }
    }
    
    // Scaling section tab switching functionality
    function showScalingTab(tabId) {
      // Get the scaling section container
      const scalingSection = document.getElementById('scaling-effects');
      if (!scalingSection) return;
      
      // Hide all tab content within scaling section only
      const scalingTabs = scalingSection.querySelectorAll('.tab-content');
      scalingTabs.forEach(tab => {
        tab.classList.remove('active');
        tab.style.display = 'none';
      });
      
      // Remove active class from all buttons within scaling section only
      const scalingButtons = scalingSection.querySelectorAll('.tab-button');
      scalingButtons.forEach(button => button.classList.remove('active'));
      
      // Show selected tab content with flex display
      const selectedTab = document.getElementById(tabId);
      if (selectedTab) {
        selectedTab.classList.add('active');
        selectedTab.style.display = 'flex';
      }
      
      // Activate corresponding button
      if (event && event.target) {
        event.target.classList.add('active');
      }
    }
    
    // Sub-tab switching functionality
    function showSubTab(subTabId, buttonElement = null) {
      // Hide all sub-tab content
      const allSubTabs = document.querySelectorAll('.sub-tab-content');
      allSubTabs.forEach(tab => tab.classList.remove('active'));
      
      // Remove active class from all sub-buttons
      const allSubButtons = document.querySelectorAll('.sub-tab-button');
      allSubButtons.forEach(button => button.classList.remove('active'));
      
      // Show selected sub-tab content
      document.getElementById(subTabId).classList.add('active');
      
      // Activate corresponding sub-button
      if (buttonElement) {
        buttonElement.classList.add('active');
      } else if (event && event.target) {
        event.target.classList.add('active');
      } else {
        // When auto-playing, find corresponding button through button text
        const targetButton = Array.from(allSubButtons).find(button => {
          const buttonText = button.textContent.trim();
          const tabTexts = {
            'stand-still': 'Stand Still',
            'go-forward': 'Go Forward',
            'strafe-left': 'Strafe Left',
            'go-backward': 'Go Backward',
            'strafe-right': 'Strafe Right',
            'turn-anticlockwise': 'Turn Anticlockwise',
            'turn-clockwise': 'Turn Clockwise'
          };
          return buttonText === tabTexts[subTabId];
        });
        if (targetButton) {
          targetButton.classList.add('active');
        }
      }
    }
    
    // Motion Tracking video gallery control
    let currentSlide = 0;
    const totalSlides = 7; // Updated to 7 videos
    const itemWidth = 320; // Width of each video (300px + 20px gap)
    
    // Function to check if video is visible (global scope)
    function isVideoVisible(video) {
      const rect = video.getBoundingClientRect();
      const windowHeight = window.innerHeight;
      return rect.top < windowHeight && rect.bottom > 0;
    }
    
    // Enhanced auto-play with loading protection (global scope)
    function startAutoPlayForVideo(video) {
      if (!video.hasAttribute('data-auto-playing')) {
        video.setAttribute('data-auto-playing', 'true');
        
        // Get video source for logging
        const videoSrc = video.src || video.currentSrc || (video.querySelector('source')?.src) || 'unknown';
        
        // Check if video is ready to play
        if (video.readyState >= 3) { // HAVE_FUTURE_DATA or higher
          console.log('Video ready, starting auto-play:', videoSrc);
          video.play().catch(e => {
            console.log('Auto-play failed:', e);
            video.removeAttribute('data-auto-playing');
          });
        } else {
          // Wait for video to be ready
          console.log('Video not ready, waiting for canplay event:', videoSrc);
          video.addEventListener('canplay', function() {
            console.log('Video can play now, starting auto-play:', videoSrc);
            this.play().catch(e => {
              console.log('Auto-play failed after canplay:', e);
              this.removeAttribute('data-auto-playing');
            });
          }, { once: true });
        }
      }
    }
    
    function moveGallery(direction) {
      const container = document.getElementById('galleryContainer');
      
      currentSlide += direction;
      
      // Loop logic
      if (currentSlide < 0) {
        currentSlide = totalSlides - 1; // Start from last one
      } else if (currentSlide >= totalSlides) {
        currentSlide = 0; // Back to first one
      }
      
      // Calculate movement distance - move one video distance each time
      const translateX = -currentSlide * itemWidth;
      container.style.transform = `translateX(${translateX}px)`;
      
      // Update dot status
      updateDots();
      
      // Auto-play the newly visible video after gallery movement
      setTimeout(() => {
        const visibleVideo = container.querySelector('.gallery-item:nth-child(' + (currentSlide + 1) + ') video');
        if (visibleVideo && isVideoVisible(visibleVideo)) {
          startAutoPlayForVideo(visibleVideo);
        }
      }, 300); // Wait for transition to complete
    }
    
      // Goal Reaching video gallery control
      let currentGoalSlide = 0;
      const totalGoalSlides = 10;
    
    function moveGoalGallery(direction) {
      const container = document.getElementById('goalGalleryContainer');
      
      currentGoalSlide += direction;
      
      // Loop logic
      if (currentGoalSlide < 0) {
        currentGoalSlide = totalGoalSlides - 1; // Start from last one
      } else if (currentGoalSlide >= totalGoalSlides) {
        currentGoalSlide = 0; // Back to first one
      }
      
      // Calculate movement distance - move one video distance each time
      const translateX = -currentGoalSlide * itemWidth;
      container.style.transform = `translateX(${translateX}px)`;
      
      // Update dot status
      updateGoalDots();
      
      // Auto-play the newly visible video after gallery movement
      setTimeout(() => {
        const visibleVideo = container.querySelector('.gallery-item:nth-child(' + (currentGoalSlide + 1) + ') video');
        if (visibleVideo && isVideoVisible(visibleVideo)) {
          startAutoPlayForVideo(visibleVideo);
        }
      }, 300); // Wait for transition to complete
    }
    
    function goToSlide(slideIndex) {
      currentSlide = slideIndex;
      moveGallery(0);
    }
    
    function goToGoalSlide(slideIndex) {
      currentGoalSlide = slideIndex;
      moveGoalGallery(0);
    }
    
    function updateDots() {
      const dots = document.querySelectorAll('.gallery-dots span');
      dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === currentSlide);
      });
    }
    
    function updateGoalDots() {
      const dots = document.querySelectorAll('#goalGalleryDots span');
      dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === currentGoalSlide);
      });
    }
    
    // Full Video modal functionality
    function showFullVideo() {
      // Create modal
      const modal = document.createElement('div');
      modal.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 10000;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
      `;
      
      // Create video container
      const videoContainer = document.createElement('div');
      videoContainer.style.cssText = `
        position: relative;
        max-width: 90%;
        max-height: 90%;
        background: white;
        border-radius: 10px;
        overflow: hidden;
        cursor: default;
      `;
      
      // Create loading indicator
      const loadingIndicator = document.createElement('div');
      loadingIndicator.innerHTML = 'Loading video...';
      loadingIndicator.style.cssText = `
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #333;
        font-size: 18px;
        z-index: 10002;
      `;
      
      // Create close button
      const closeBtn = document.createElement('button');
      closeBtn.innerHTML = '';
      closeBtn.style.cssText = `
        position: absolute;
        top: 10px;
        right: 15px;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: none;
        font-size: 24px;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        cursor: pointer;
        z-index: 10001;
        display: flex;
        align-items: center;
        justify-content: center;
      `;
      
      // Create video element with proper attributes
      const video = document.createElement('video');
      video.setAttribute('data-full-video', 'true'); // Mark as full video to skip blocking
      video.src = './resources/tracking/full/full-1_firefox_720p.mp4';
      video.controls = true;
      video.preload = 'auto';
      video.muted = false; // Allow sound for full video
      video.style.cssText = `
        width: 100%;
        height: auto;
        display: block;
      `;
      
      // Add error handling
      video.addEventListener('error', function(e) {
        console.error('Video loading error:', e);
        loadingIndicator.innerHTML = 'Failed to load video. Please try again.';
        loadingIndicator.style.color = '#dc3545';
      });
      
      // Hide loading indicator when video can play
      video.addEventListener('canplay', function() {
        loadingIndicator.style.display = 'none';
        video.play().catch(err => {
          console.error('Autoplay failed:', err);
          // Autoplay might fail, but video controls will be available
        });
      });
      
      // Show loading indicator while loading
      video.addEventListener('loadstart', function() {
        loadingIndicator.style.display = 'block';
      });
      
      // Assemble elements
      videoContainer.appendChild(closeBtn);
      videoContainer.appendChild(loadingIndicator);
      videoContainer.appendChild(video);
      modal.appendChild(videoContainer);
      document.body.appendChild(modal);
      
      // Ensure video is not blocked by MutationObserver
      // Set src after a small delay to avoid blocking
      setTimeout(() => {
        if (!video.src) {
          video.src = './resources/tracking/full/full-1_firefox_720p.mp4';
          video.load();
        }
      }, 100);
      
      // Close functionality
      function closeModal() {
        video.pause();
        if (document.body.contains(modal)) {
          document.body.removeChild(modal);
        }
      }
      
      closeBtn.onclick = closeModal;
      modal.onclick = function(e) {
        if (e.target === modal) {
          closeModal();
        }
      };
      
      // ESC key close (with cleanup)
      const escHandler = function(e) {
        if (e.key === 'Escape') {
          closeModal();
          document.removeEventListener('keydown', escHandler);
        }
      };
      document.addEventListener('keydown', escHandler);
    }
    
    // Initialize gallery
    document.addEventListener('DOMContentLoaded', function() {
      updateDots();
      updateGoalDots();
      
      // Add video hover play functionality - Motion Tracking only
      const motionVideos = document.querySelectorAll('#motionGalleryContainer .gallery-item video');
      motionVideos.forEach(video => {
        video.addEventListener('mouseenter', function() {
          this.play();
        });
        
        video.addEventListener('mouseleave', function() {
          this.pause();
          this.currentTime = 0;
        });
      });
      
      // Goal Reaching videos now autoplay continuously without hover interaction

      // Basic Locomotion sub-tab auto-play functionality
      let autoPlayInterval;
      
      function startAutoPlay() {
        // Stop previous auto-play
        if (autoPlayInterval) {
          clearInterval(autoPlayInterval);
        }
        
        isAutoPlaying = true; // Set auto-play status
        
        // Map subTabId to index
        const tabIds = [
          'stand-still',
          'go-forward',
          'strafe-left', 
          'go-backward',
          'strafe-right',
          'turn-anticlockwise',
          'turn-clockwise'
        ];
        
        // Find current active sub-tab
        const activeSubTab = document.querySelector('#basic-locomotion .sub-tab-content.active');
        if (activeSubTab) {
          const activeTabId = activeSubTab.id;
          const tabIndex = tabIds.indexOf(activeTabId);
          if (tabIndex !== -1) {
            currentVideoIndex = tabIndex;
          }
        }
        
        // Prepare videos without loading all at once (optimize for hero video priority)
        videoOrder.forEach(videoId => {
          const video = document.getElementById(videoId);
          if (video) {
            // Restore src if video was blocked
            if (video.hasAttribute('data-temp-src') && !video.src) {
              video.src = video.getAttribute('data-temp-src');
              video.removeAttribute('data-temp-src');
            }
            const source = video.querySelector('source');
            if (source && source.hasAttribute('data-temp-src') && !source.src) {
              source.src = source.getAttribute('data-temp-src');
              source.removeAttribute('data-temp-src');
            }
            
            video.pause();
            video.currentTime = 0;
            // Only load metadata, not full video - will load when needed
            if (video.preload !== 'metadata') {
              video.preload = 'metadata';
            }
            video.loop = false; // Disable loop playback
            // Hide progress bar
            video.style.outline = 'none';
            video.controls = false; // Temporarily hide controls
          }
        });
        
        // Play current video immediately (reset and play from beginning)
        const currentVideo = document.getElementById(videoOrder[currentVideoIndex]);
        if (currentVideo) {
          // Restore src if video was blocked
          if (currentVideo.hasAttribute('data-temp-src') && !currentVideo.src) {
            currentVideo.src = currentVideo.getAttribute('data-temp-src');
            currentVideo.removeAttribute('data-temp-src');
          }
          const source = currentVideo.querySelector('source');
          if (source && source.hasAttribute('data-temp-src') && !source.src) {
            source.src = source.getAttribute('data-temp-src');
            source.removeAttribute('data-temp-src');
          }
          
          // Load current video when needed
          currentVideo.preload = 'auto';
          currentVideo.load(); // Force load current video only
          currentVideo.currentTime = 0;
          currentVideo.play().catch(e => {
            console.log('Video play failed:', e);
          });
        }
        
        // Start auto-play
        autoPlayInterval = setInterval(() => {
          // Pause current video (do not reset to first frame)
          const currentVideo = document.getElementById(videoOrder[currentVideoIndex]);
          if (currentVideo) {
            currentVideo.pause();
            // Do not reset currentTime, maintain current frame
          }
          
          // Switch to next video
          const previousIndex = currentVideoIndex;
          currentVideoIndex = (currentVideoIndex + 1) % videoOrder.length;
          
          // Check if completed one round of playback (from last back to first)
          if (currentVideoIndex === 0 && previousIndex === videoOrder.length - 1) {
            // Completed one round, reset all videos to beginning
            videoOrder.forEach(videoId => {
              const video = document.getElementById(videoId);
              if (video) {
                video.currentTime = 0;
              }
            });
          }
          
          // Play new video
          const nextVideo = document.getElementById(videoOrder[currentVideoIndex]);
          if (nextVideo) {
            // Restore src if video was blocked
            if (nextVideo.hasAttribute('data-temp-src') && !nextVideo.src) {
              nextVideo.src = nextVideo.getAttribute('data-temp-src');
              nextVideo.removeAttribute('data-temp-src');
            }
            const source = nextVideo.querySelector('source');
            if (source && source.hasAttribute('data-temp-src') && !source.src) {
              source.src = source.getAttribute('data-temp-src');
              source.removeAttribute('data-temp-src');
            }
            
            // Set preload to auto to ensure video loads
            if (nextVideo.preload !== 'auto') {
              nextVideo.preload = 'auto';
            }
            
            // Ensure video is loaded, do not reset progress
            if (nextVideo.readyState >= 3) { // HAVE_FUTURE_DATA
              // Play directly, do not reset currentTime
              nextVideo.play().catch(e => {
                console.log('Video play failed:', e);
                // If playback fails, try reloading
                nextVideo.load();
                setTimeout(() => {
                  nextVideo.play().catch(err => {
                    console.log('Video play failed after reload:', err);
                  });
                }, 100);
              });
            } else {
              // Load video first if not loaded
              if (nextVideo.readyState === 0) {
                nextVideo.load();
              }
              
              // Wait for video to load
              nextVideo.addEventListener('canplay', function() {
                // Do not reset currentTime, maintain current position
                this.play().catch(e => {
                  console.log('Video play failed:', e);
                  this.load();
                  setTimeout(() => {
                    this.play().catch(err => {
                      console.log('Video play failed after reload:', err);
                    });
                  }, 100);
                });
              }, { once: true });
            }
            
            // Switch to corresponding sub-tab
            const targetTabId = tabIds[currentVideoIndex];
            showSubTab(targetTabId);
          }
        }, 3000); // Switch every 3 seconds
      }
      
      function stopAutoPlay() {
        if (autoPlayInterval) {
          clearInterval(autoPlayInterval);
          autoPlayInterval = null;
        }
        
        isAutoPlaying = false; // Clear auto-play status
        
        // Pause all videos, reset to first frame and restore controls
        videoOrder.forEach(videoId => {
          const video = document.getElementById(videoId);
          if (video) {
            video.pause();
            video.currentTime = 0;
            video.loop = true; // Restore loop playback
            video.controls = true; // Restore controls
          }
        });
      }
      
      
      // Add auto-play control button
      const basicLocomotionTab = document.getElementById('basic-locomotion');
      if (basicLocomotionTab) {
        const autoPlayButton = document.createElement('button');
        autoPlayButton.innerHTML = ' Auto Play';
        autoPlayButton.style.cssText = `
          position: absolute;
          top: 10px;
          right: 10px;
          background: #004bb3;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 4px;
          cursor: pointer;
          font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif);
          font-size: 0.9em;
        `;
        
        let isAutoPlaying = false;
        
        autoPlayButton.addEventListener('click', function() {
          if (isAutoPlaying) {
            stopAutoPlay();
            this.innerHTML = ' Auto Play';
            isAutoPlaying = false;
          } else {
            startAutoPlay();
            this.innerHTML = ' Stop Play';
            isAutoPlaying = true;
          }
        });
        
        basicLocomotionTab.style.position = 'relative';
        basicLocomotionTab.appendChild(autoPlayButton);
      }
    });


    function playVideo(coverElement) {
      const videoContainer = coverElement.parentElement;
      const video = videoContainer.querySelector('video[style*="display: none"]'); // Select hidden playback video
      const cover = videoContainer.querySelector('.video-cover');
      
      if (!video) {
        console.error('Video element not found');
        return;
      }
      
      // Restore src if video was blocked
      if (video.hasAttribute('data-temp-src') && !video.src) {
        video.src = video.getAttribute('data-temp-src');
        video.removeAttribute('data-temp-src');
        video.load();
      }
      
      // Check source element as well
      const source = video.querySelector('source');
      if (source && source.hasAttribute('data-temp-src') && !source.src) {
        source.src = source.getAttribute('data-temp-src');
        source.removeAttribute('data-temp-src');
        video.load();
      }
      
      // Set preload to auto and ensure video is ready
      if (video.preload === 'none') {
        video.preload = 'auto';
      }
      
      // Hide cover, show video
      cover.style.display = 'none';
      video.style.display = 'block';
      
      // Wait for video to be ready before playing
      const playVideoWhenReady = () => {
        if (video.readyState >= 2) { // HAVE_CURRENT_DATA
          video.currentTime = 0;
          video.play().catch(err => {
            console.error('Error playing video:', err);
          });
        } else {
          video.addEventListener('loadeddata', () => {
            video.currentTime = 0;
            video.play().catch(err => {
              console.error('Error playing video:', err);
            });
          }, { once: true });
          video.load();
        }
      };
      
      playVideoWhenReady();
      
      // Listen to video end event
      video.addEventListener('ended', function() {
        // After video ends, return to cover
        video.style.display = 'none';
        cover.style.display = 'block';
      }, { once: true });
    }

      // Performance monitoring object
      let performanceMetrics = {
        totalVideos: 0,
        loadingVideos: 0,
        loadedVideos: 0,
        failedVideos: 0,
        maxConcurrentLoads: 3,
        networkSpeed: 'unknown'
      };
      
      // Initialize video covers after page load
      document.addEventListener('DOMContentLoaded', function() {
        // No longer need complex background generation, use video directly as background
        
        // Count total videos for monitoring
        performanceMetrics.totalVideos = document.querySelectorAll('video').length;
        console.log('Total videos found:', performanceMetrics.totalVideos);
        
        // Initialize video lazy loading and error handling
        initializeVideoOptimization();
      });
    
    // Video optimization functions
    function initializeVideoOptimization() {
      // Wait for hero video to fully load before initializing other videos
      const waitForHeroVideo = (callback) => {
        if (window.heroVideoLoaded) {
          // Hero video already loaded
          callback();
        } else {
          // Wait for hero video to load
          window.addEventListener('heroVideoLoaded', callback, { once: true });
          // Fallback: timeout after 10 seconds (reduced from 30s since metadata loads quickly)
          setTimeout(() => {
            if (!window.heroVideoLoaded) {
              console.warn(' Hero video loading timeout, proceeding with other videos');
              window.heroVideoLoaded = true; // Proceed anyway
              callback();
            }
          }, 10000);
        }
      };
      
      waitForHeroVideo(() => {
        console.log(' Hero video loaded! Starting to load other videos...');
        
        // Restore frameVideo when hero video is loaded (preload="metadata" only)
        const frameVideo = document.getElementById('frameVideo');
        if (frameVideo) {
          // Only restore src, keep preload as metadata (will upgrade to auto when play button is clicked)
          if (frameVideo.hasAttribute('data-temp-src') && !frameVideo.src) {
            frameVideo.src = frameVideo.getAttribute('data-temp-src');
            frameVideo.removeAttribute('data-temp-src');
            frameVideo.preload = 'metadata'; // Keep as metadata
            frameVideo.load();
          }
          const frameSource = frameVideo.querySelector('source');
          if (frameSource && frameSource.hasAttribute('data-temp-src') && !frameSource.src) {
            frameSource.src = frameSource.getAttribute('data-temp-src');
            frameSource.removeAttribute('data-temp-src');
            frameVideo.preload = 'metadata'; // Keep as metadata
            frameVideo.load();
          }
        }
        
        // Set up smart Intersection Observer for optimized loading
        const videoObserver = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            const video = entry.target;
            
            // Skip hero videos - they're already loading
            if (video.id === 'hero-video-main' || video.id === 'hero-video-mobile') {
              return;
            }
            
            if (entry.isIntersecting) {
              // Only load if hero video is loaded
              if (!window.heroVideoLoaded) {
                console.log(' Waiting for hero video to load before loading:', video.src || video.dataset.src);
                return;
              }
              
              // Video is entering viewport - restore src if it was blocked
              if (video.hasAttribute('data-temp-src') && !video.src) {
                video.src = video.getAttribute('data-temp-src');
                video.removeAttribute('data-temp-src');
                video.load();
              }
              const source = video.querySelector('source');
              if (source && source.hasAttribute('data-temp-src') && !source.src) {
                source.src = source.getAttribute('data-temp-src');
                source.removeAttribute('data-temp-src');
                video.load();
              }
              
              // Change preload from "none" to appropriate value
              // Use metadata first, then upgrade to auto only for visible videos
              if (video.preload === 'none') {
                video.preload = 'metadata';
                // Only load metadata, not full video yet
                if (video.readyState === 0) {
                  video.load();
                }
              }
              
              // Only set auto preload for videos that are actually visible and needed
              // Add staggered delay to prevent too many videos loading simultaneously
              if (video.closest('.gallery-item') || video.hasAttribute('controls')) {
                // Calculate delay based on video position to stagger loading
                const videoIndex = Array.from(document.querySelectorAll('video')).indexOf(video);
                const delay = Math.min((videoIndex % 3) * 800, 3000); // Stagger by 800ms per video, max 3s
                
                // Use requestIdleCallback if available for better performance
                const scheduleLoad = (callback) => {
                  if ('requestIdleCallback' in window) {
                    requestIdleCallback(callback, { timeout: 3000 });
                  } else {
                    setTimeout(callback, delay);
                  }
                };
                
                scheduleLoad(() => {
                  if (entry.isIntersecting && window.heroVideoLoaded && video.readyState <= 1) {
                    // Only upgrade to auto if video is still in viewport and not already loading fully
                    video.preload = 'auto';
                    if (video.readyState <= 1) {
                      video.load();
                    }
                  }
                });
              }
              
              // Start auto-play if it's a gallery video
              if (video.closest('.gallery-item')) {
                setTimeout(() => {
                  if (isVideoVisible(video)) {
                    startAutoPlayForVideo(video);
                  }
                }, 100);
              }
            } else {
              // Video is leaving viewport
              if (video.closest('.gallery-item')) {
                pauseVideoForOptimization(video);
              }
              
              // Reduce priority for non-visible videos
              video.preload = 'metadata';
            }
          });
        }, {
          rootMargin: '400px' // Reduced margin - only load when closer to viewport
        });
        
        // Observe all videos except hero videos (after delay)
        // Also ensure frameVideo is observed and loaded immediately since it's critical
        document.querySelectorAll('video').forEach(video => {
          // Skip hero videos - they're already loading with high priority
          if (video.id !== 'hero-video-main' && video.id !== 'hero-video-mobile') {
            videoObserver.observe(video);
            
            // If it's frameVideo, restore src but keep preload as metadata
            if (video.id === 'frameVideo') {
              // Restore src if it was blocked
              if (video.hasAttribute('data-temp-src') && !video.src) {
                video.src = video.getAttribute('data-temp-src');
                video.removeAttribute('data-temp-src');
                video.preload = 'metadata'; // Keep as metadata
                video.load();
              }
              const source = video.querySelector('source');
              if (source && source.hasAttribute('data-temp-src') && !source.src) {
                source.src = source.getAttribute('data-temp-src');
                source.removeAttribute('data-temp-src');
                video.preload = 'metadata'; // Keep as metadata
                video.load();
              }
            }
          }
        });
        
        // Preload basic locomotion videos when reward-optimization section comes into view
        const rewardOptimizationSection = document.getElementById('reward-optimization');
        if (rewardOptimizationSection) {
          const sectionObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
              if (entry.isIntersecting && window.heroVideoLoaded) {
                console.log(' Reward Optimization section in view - preloading basic locomotion videos...');
                
                // Find all locomotion videos in basic-locomotion tab
                const basicLocomotionVideos = rewardOptimizationSection.querySelectorAll('#basic-locomotion video');
                basicLocomotionVideos.forEach((video, index) => {
                  // Restore src if it was blocked
                  if (video.hasAttribute('data-temp-src') && !video.src) {
                    video.src = video.getAttribute('data-temp-src');
                    video.removeAttribute('data-temp-src');
                  }
                  const source = video.querySelector('source');
                  if (source && source.hasAttribute('data-temp-src') && !source.src) {
                    source.src = source.getAttribute('data-temp-src');
                    source.removeAttribute('data-temp-src');
                  }
                  
                  // Set preload to metadata first, then auto after a delay
                  setTimeout(() => {
                    if (video.preload === 'none') {
                      video.preload = 'metadata';
                      video.load();
                    }
                    // Upgrade to auto preload after metadata loads
                    setTimeout(() => {
                      if (video.readyState >= 1) {
                        video.preload = 'auto';
                        video.load();
                      }
                    }, 500);
                  }, index * 200); // Stagger loading by 200ms per video
                });
                
                // Unobserve after loading starts
                sectionObserver.unobserve(entry.target);
              }
            });
          }, {
            rootMargin: '300px' // Start loading when section is 300px away
          });
          
          sectionObserver.observe(rewardOptimizationSection);
        }
      
      // Smart auto-play system for all gallery videos with optimized loading
      function initializeGalleryAutoPlay() {
        // Initialize both Motion Tracking and Goal Reaching galleries
        document.querySelectorAll('.gallery-item video').forEach((video, index) => {
          // Set up smart loading and auto-play
          video.addEventListener('loadeddata', function() {
            if (!this.hasAttribute('data-initialized')) {
              this.setAttribute('data-initialized', 'true');
              
              // Auto-play ready, no need for play button
              
              // Start auto-play for visible videos
              if (isVideoVisible(this)) {
                startAutoPlayForVideo(this);
              }
            }
          });
          
          // Click to toggle play/pause (no visual button needed)
          video.addEventListener('click', function() {
            if (this.paused) {
              this.play().catch(e => console.log('Play failed:', e));
            } else {
              this.pause();
            }
          });
          
          // Loop handling
          video.addEventListener('ended', function() {
            this.currentTime = 0;
            this.play().catch(e => console.log('Loop play failed:', e));
          });
          
          // Add play/pause indicator
          video.style.cursor = 'pointer';
          video.title = 'Click to play/pause';
        });
      }
      
      // Initialize gallery auto-play
      initializeGalleryAutoPlay();
      
      // Function to pause video for optimization
      function pauseVideoForOptimization(video) {
        if (video.hasAttribute('data-auto-playing')) {
          video.pause();
          video.removeAttribute('data-auto-playing');
        }
      }
      
      
      // Performance monitoring and adaptive loading (removed duplicate definition)
      
      // Global loading state monitoring
      function updateLoadingState() {
        const loadingProgress = performanceMetrics.loadedVideos + performanceMetrics.failedVideos;
        const totalProgress = performanceMetrics.totalVideos;
        
        if (totalProgress > 0) {
          const progressPercent = (loadingProgress / totalProgress) * 100;
          console.log(`Loading progress: ${progressPercent.toFixed(1)}% (${loadingProgress}/${totalProgress})`);
          
          // If all videos are processed, log completion
          if (loadingProgress >= totalProgress) {
            console.log('All videos processed. Loading complete.');
          }
        }
      }
      
      // Monitor network speed
      if ('connection' in navigator) {
        const connection = navigator.connection;
        performanceMetrics.networkSpeed = connection.effectiveType || 'unknown';
        
        // Adjust max concurrent loads based on network speed
        // Reduced to prevent bandwidth competition with hero video
        if (connection.effectiveType === 'slow-2g' || connection.effectiveType === '2g') {
          performanceMetrics.maxConcurrentLoads = 1;
        } else if (connection.effectiveType === '3g') {
          performanceMetrics.maxConcurrentLoads = 1;
        } else {
          performanceMetrics.maxConcurrentLoads = 1; // Further reduced to 1 for better performance
        }
      }
      
      // Queue system for video loading
      const videoLoadQueue = [];
      let currentlyLoading = 0;
      
      function processVideoQueue() {
        if (currentlyLoading < performanceMetrics.maxConcurrentLoads && videoLoadQueue.length > 0) {
          const video = videoLoadQueue.shift();
          currentlyLoading++;
          
          // Add timeout protection to prevent infinite loading
          const loadingTimeout = setTimeout(() => {
            console.log('Video loading timeout, removing from queue:', video.src);
            currentlyLoading--;
            processVideoQueue();
          }, 10000); // 10 second timeout
          
          video.addEventListener('loadeddata', () => {
            clearTimeout(loadingTimeout);
            currentlyLoading--;
            performanceMetrics.loadedVideos++;
            updateLoadingState();
            console.log('Video loaded successfully:', video.src);
            // Add delay before processing next video to prevent network overload
            setTimeout(() => {
              processVideoQueue();
            }, 500);
          }, { once: true });
          
          video.addEventListener('error', () => {
            clearTimeout(loadingTimeout);
            currentlyLoading--;
            performanceMetrics.failedVideos++;
            updateLoadingState();
            console.log('Video loading error:', video.src);
            // Add delay before processing next video
            setTimeout(() => {
              processVideoQueue();
            }, 300);
          }, { once: true });
          
          if (video.dataset.src && !video.src) {
            console.log('Starting to load video:', video.dataset.src);
            video.src = video.dataset.src;
            video.load();
          } else {
            // Video already has src, just count as loaded
            clearTimeout(loadingTimeout);
            currentlyLoading--;
            processVideoQueue();
          }
        }
      }
      
      // Enhanced Intersection Observer with queue management
      const enhancedVideoObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          const video = entry.target;
          
          // Skip hero videos
          if (video.id === 'hero-video-main' || video.id === 'hero-video-mobile') {
            return;
          }
          
          if (entry.isIntersecting) {
            // Only load if hero video is loaded
            if (!window.heroVideoLoaded) {
              console.log(' Enhanced observer: Waiting for hero video to load before loading:', video.src || video.dataset.src);
              return;
            }
            
            // Add to loading queue instead of immediate loading
            if (video.dataset.src && !video.src && !videoLoadQueue.includes(video)) {
              videoLoadQueue.push(video);
              processVideoQueue();
            }
            
            // Change preload from "none" to appropriate value
            // Use metadata first, then upgrade to auto only for visible videos
            if (video.preload === 'none') {
              video.preload = 'metadata';
              if (video.readyState === 0) {
                video.load(); // Load metadata only
              }
            }
            
            // Delay setting auto preload to avoid competing with hero video
            // Stagger loading to prevent multiple videos loading simultaneously
            const videoIndex = Array.from(document.querySelectorAll('video')).indexOf(video);
            const delay = Math.min((videoIndex % 5) * 500, 2000); // Stagger by 500ms per video, max 2s
            
            setTimeout(() => {
              if (entry.isIntersecting && window.heroVideoLoaded && video.readyState <= 1) {
                // Only upgrade to auto if video is still in viewport and not already loading fully
                video.preload = 'auto';
                if (video.readyState <= 1) {
                  video.load();
                }
              }
            }, 2000 + delay); // Base 2s delay + staggered delay
            
            // Start auto-play if it's a gallery video (both Motion Tracking and Goal Reaching)
            if (video.closest('.gallery-item')) {
              console.log('Gallery video entering viewport:', video.src);
              
              // Add loading protection - only start auto-play if video has loaded enough
              const checkAndStartAutoPlay = () => {
                if (isVideoVisible(video)) {
                  // Check if video has loaded enough data
                  if (video.readyState >= 2) { // HAVE_CURRENT_DATA or higher
                    console.log('Video has enough data, starting auto-play');
                    startAutoPlayForVideo(video);
                  } else {
                    console.log('Video still loading, waiting...');
                    // Wait for more data to load
                    video.addEventListener('loadeddata', () => {
                      if (isVideoVisible(video)) {
                        console.log('Video loaded, starting auto-play');
                        startAutoPlayForVideo(video);
                      }
                    }, { once: true });
                  }
                } else {
                  console.log('Video is not visible, skipping auto-play');
                }
              };
              
              // Delay to ensure smooth transition
              setTimeout(checkAndStartAutoPlay, 200);
            }
          } else {
            // Video is leaving viewport
            if (video.closest('.gallery-item')) {
              pauseVideoForOptimization(video);
            }
            
            // Reduce priority for non-visible videos
            video.preload = 'metadata';
            
            // Remove from queue if not loaded yet
            const queueIndex = videoLoadQueue.indexOf(video);
            if (queueIndex > -1) {
              videoLoadQueue.splice(queueIndex, 1);
            }
          }
        });
      }, {
        rootMargin: '150px'
      });
      
      // Observe all videos with data-src attribute
      document.querySelectorAll('video[data-src]').forEach(video => {
        enhancedVideoObserver.observe(video);
      });
      
      // Add error handling to all videos with retry support
      document.querySelectorAll('video').forEach(video => {
        let retryCount = 0;
        const maxRetries = 3;
        
        video.addEventListener('error', function(e) {
          const videoSrc = this.src || this.currentSrc || (this.querySelector('source')?.src) || 'unknown';
          console.warn('Video loading error:', videoSrc, 'Retry count:', retryCount);
          
          // Try automatic retry if retryCount < maxRetries
          if (retryCount < maxRetries) {
            retryCount++;
            console.log(`Auto-retrying video (${retryCount}/${maxRetries}):`, videoSrc);
            setTimeout(() => {
              const source = this.querySelector('source');
              if (source && source.src) {
                this.src = source.src;
              }
              this.load();
            }, 1000 * retryCount); // Exponential backoff
            return;
          }
          
          // Max retries reached, show error message
          this.style.display = 'none';
          
          // Check if error div already exists
          if (this.parentNode.querySelector('.video-error')) {
            return;
          }
          
          // Show error message
          const errorDiv = document.createElement('div');
          errorDiv.className = 'video-error';
          errorDiv.innerHTML = `
            <div style="
              display: flex;
              align-items: center;
              justify-content: center;
              height: 200px;
              background: #f5f5f5;
              border: 2px dashed #ccc;
              border-radius: 8px;
              color: #666;
              font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif);
            ">
              <div style="text-align: center;">
                <i class="fas fa-exclamation-triangle" style="font-size: 2em; margin-bottom: 10px; color: #ff6b6b;"></i>
                <div>Video failed to load</div>
                <button onclick="retryVideoLoad(this)" style="
                  margin-top: 10px;
                  padding: 5px 15px;
                  background: #004bb3;
                  color: white;
                  border: none;
                  border-radius: 4px;
                  cursor: pointer;
                ">Retry</button>
              </div>
            </div>
          `;
          
          this.parentNode.insertBefore(errorDiv, this);
        }, { once: false }); // Allow multiple error events
        
        video.addEventListener('loadstart', function() {
          this.style.opacity = '0.7';
        });
        
        video.addEventListener('canplay', function() {
          this.style.opacity = '1';
        });
        
        video.addEventListener('waiting', function() {
          this.style.opacity = '0.7';
        });
        
        video.addEventListener('playing', function() {
          this.style.opacity = '1';
        });
      });
      
      }); // Close waitForHeroVideo callback
    }
    
    // Retry video loading function
    function retryVideoLoad(button) {
      const errorDiv = button.closest('.video-error');
      const video = errorDiv.nextElementSibling || errorDiv.previousElementSibling;
      
      if (video && video.tagName === 'VIDEO') {
        errorDiv.remove();
        video.style.display = 'block';
        
        // Try to reload the video
        // If video uses source tags, reload from source
        const source = video.querySelector('source');
        if (source && source.src) {
          // Clear and reload from source
          video.src = '';
          video.load();
          video.src = source.src;
        } else if (video.src) {
          // Direct src, reload it
          const currentSrc = video.src;
          video.src = '';
          video.load();
          video.src = currentSrc;
        }
        
        video.load();
        video.play().catch(e => console.log('Retry play failed:', e));
      }
    }

    // Initialize video cover function (simplified)
    function initializeVideoCovers() {
      // No longer need to generate background images
    }

    // Arm Control interaction functionality
    let rightWristValue = null;
    let leftWristValue = null;
    
    function selectReward(element, side) {
      // Remove active class from all buttons in the same section
      const section = element.closest('.wrist-section');
      section.querySelectorAll('.reward-button').forEach(btn => {
        btn.classList.remove('active');
      });
      
      // Add active class to clicked button
      element.classList.add('active');
      const value = element.getAttribute('data-value');
      
      // Update the selected value for this side
      if (side === 'right') {
        rightWristValue = value;
      } else {
        leftWristValue = value;
      }
      
      // Show corresponding image
      showRewardImage();
    }
    
    function showRewardImage() {
      const imageElement = document.getElementById('arm-image');
      const placeholder = document.querySelector('.video-placeholder');
      
      if (rightWristValue && leftWristValue) {
        // Show image based on composition
        let imageKey = '';
        if (rightWristValue === 'high' && leftWristValue === 'high') {
          imageKey = 'hh';
        } else if (rightWristValue === 'high' && leftWristValue === 'low') {
          imageKey = 'hl';
        } else if (rightWristValue === 'low' && leftWristValue === 'high') {
          imageKey = 'lh';
        } else if (rightWristValue === 'low' && leftWristValue === 'low') {
          imageKey = 'll';
        }
        
        if (imageKey) {
          imageElement.src = './resources/reward_optimization/arm_control/' + imageKey + '.png';
          imageElement.style.display = 'block';
          placeholder.style.display = 'none';
        }
      } else {
        imageElement.style.display = 'none';
        placeholder.style.display = 'flex';
      }
    }
    
    function showContinuousVideo() {
      const modal = document.getElementById('video-modal');
      const video = document.getElementById('continuous-video');
      modal.style.display = 'block';
      video.play();
    }
    
    function closeContinuousVideo() {
      const modal = document.getElementById('video-modal');
      const video = document.getElementById('continuous-video');
      modal.style.display = 'none';
      video.pause();
    }
    

  </script>
  <meta property="og:site_name" content="BFM-Zero: A Promptable Behavioral Foundation Model for Humanoid Control Using Unsupervised Reinforcement Learning" />
  <meta property="og:title" content="BFM-Zero: A Promptable Behavioral Foundation Model for Humanoid Control Using Unsupervised Reinforcement Learning" />
  <meta property="og:image:width" content="1280" />
  <meta property="og:image:height" content="720" />

  <meta property="article:publisher" content="" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="BFM-Zero: A Promptable Behavioral Foundation Model for Humanoid Control Using Unsupervised Reinforcement Learning" />
</head>


<body>
  <!-- Right floating navigation -->
  <nav class="floating-nav" id="floatingNav">
    <div class="floating-nav-trigger">
      <i class="fas fa-list"></i>
    </div>
    <div class="floating-nav-content">
      <ul class="floating-nav-menu">
        <li><a href="#video" class="floating-nav-link">Video</a></li>
        <li><a href="#abstract" class="floating-nav-link">Abstract</a></li>
        <li><a href="#approach" class="floating-nav-link">Approach</a></li>
        <li class="floating-nav-item-with-sub">
          <a href="#zero-shot" class="floating-nav-link">Zero-shot Inference</a>
          <ul class="floating-nav-submenu">
            <li><a href="#goal-reaching" class="floating-nav-sublink">Goal Reaching</a></li>
            <li><a href="#motion-tracking" class="floating-nav-sublink">Motion Tracking</a></li>
            <li><a href="#reward-optimization" class="floating-nav-sublink">Reward Optimization</a></li>
          </ul>
        </li>
        <li><a href="#disturbance-rejection" class="floating-nav-link">Disturbance Rejection</a></li>
        <li><a href="#few-shot-adaptation" class="floating-nav-link">Few-shot Adaptation</a></li>
        <li><a href="#space-interpolation" class="floating-nav-link">Space Interpolation</a></li>
      </ul>
    </div>
  </nav>
  <section class="hero is-link is-fullheight video" style="overflow: hidden; position:relative; background: linear-gradient(135deg, #004bb3 0%, #1a5fcc 50%, #004bb3 100%);" id="video">
    <div class="hero-video" style="height: 100%; width: 177.77777778vh; min-width: 100%;min-height: 56.25vw;">
      <video id="hero-video-main" autoplay muted loop playsinline preload="auto" style="width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity 1s ease-in-out;">
        <source src="./resources/head/head_new_firefox_720p.mp4" type="video/mp4">
      </video>
    </div>
    <div class="hero-video is-hidden-tablet is-inline-block-mobile"
      style="height: 154.28571428vw; width: 100%; min-width:64.81481481vh;min-height:100%;">
      <video id="hero-video-mobile" autoplay muted loop playsinline preload="auto" style="width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity 1s ease-in-out;">
        <source src="./resources/head/head_new_firefox_720p.mp4" type="video/mp4">
      </video>
    </div>
    <div class="overlay"></div>
    <!-- Hero content: will be in the middle -->
    <div class="hero-body">
      <div class="container has-text-centered">
        <h1 class="title is-1 publication-title is-size-1-mobile" style="font-size: 7rem;">
          BFM-Zero
        </h1>
        <h1 class="subtitle is-3 publication-title is-size-4-mobile" style="font-size: 2rem;">
          A Promptable Behavioral Foundation Model for Humanoid Control Using Unsupervised Reinforcement Learning
        </h1>
        <!-- <h1 class="is-2 is-italic is-size-4-mobile" style="font-size: 2rem;">
          In Submission
        </h1> -->
    </div>
  </section>

  <section class="hero">
    <div class="hero-body">
      <div class="container">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-3 publication-title">BFM-Zero: A Promptable Behavioral Foundation Model for Humanoid Control Using Unsupervised Reinforcement Learning</h1>
  
            <div class="is-size-4 publication-authors">
              <span class="author-block" style="font-size: 1.2rem;">
                  <a href="https://liyitang22.github.io/">Yitang Li<span class="superscript">*</span></a>&nbsp;&nbsp;
                  <a href="https://www.zhengyiluo.com/">Zhengyi Luo<span class="superscript">*</span></a>&nbsp;&nbsp;
                  <a href="https://tonghe-zhang.github.io/">Tonghe Zhang<span class="superscript">$</span></a>&nbsp;&nbsp;
                  <a href="https://cunxid.github.io/">Cunxi Dai<span class="superscript">$</span></a>&nbsp;&nbsp;
                <br>
                <a href="https://scholar.google.com/citations?user=iPimqbwAAAAJ&hl=en">Anssi Kanervisto</a>&nbsp;&nbsp;
                <a href="https://andreatirinzoni.github.io/">Andrea Tirinzoni</a>&nbsp;&nbsp;
                <a href="https://egalahad.github.io/">Haoyang Weng</a>&nbsp;&nbsp;
                <br>
                <a href="https://kriskitani.github.io/">Kris Kitani</a>&nbsp;&nbsp;
                <a href="https://scholar.google.com/citations?user=-jQ-FRoAAAAJ&hl=en">Mateusz Guzek</a>&nbsp;&nbsp;
                <a href="https://scholar.google.com/citations?user=D4LT5xAAAAAJ&hl=en">Ahmed Touati</a>&nbsp;&nbsp;
                <a href="https://scholar.google.com/citations?user=6JZ3R6wAAAAJ&hl=en">Alessandro Lazaric</a>&nbsp;&nbsp;
                <a href="https://teopir.github.io/">Matteo Pirotta<span class="superscript"></span></a>&nbsp;&nbsp;
                <a href="https://www.gshi.me/">Guanya Shi<span class="superscript"></span></a>&nbsp;&nbsp;
              </span>
              <div style="margin-top: 10px; font-size: 0.9em; color: #666;">
                <sup>*</sup> <span style="font-size: 0.8em;">Equal contribution</span>  &nbsp;&nbsp; <sup>$</sup> <span style="font-size: 0.8em;">Equal contribution</span> &nbsp;&nbsp; <sup></sup> <span style="font-size: 0.8em;">Equal advising</span>
              </div>
            </div>
  
            <div class="column">
              <img src="./static/images/ip.png" alt="IP" loading="lazy" style="width: 30%;">
              <br>
              <img src="./static/images/meta.png" alt="Meta" loading="lazy" style="width: 20%;">
            </div>
  
  
            <div class="is-size-4 publication-authors", style="margin-bottom: 0.5cm;">
              <!-- #TODO (RSS 2025) -->
            </div>
  
            <div class="column has-text-centered">
              <div class="publication-links">
                <!-- PDF Link. -->
                <span class="link-block">
                  <!-- TODO:update -->
                  <a href="./resources/paper.pdf"
                     class="external-link button is-normal is-rounded is-dark" target="_blank">
                    <span class="icon">
                        <i class="fas fa-file-pdf"></i>
                    </span>
                    <span>PDF</span>
                  </a>
                </span>
                <!-- arXiv Link. -->
                <span class="link-block">
                  <!-- TODO:update -->
                  <a href="./static/images/meta.png"
                     class="external-link button is-normal is-rounded is-dark" target="_blank">
                    <span class="icon">
                        <i class="ai ai-arxiv"></i>
                    </span>
                    <span>ArXiv</span>
                  </a>
                </span>
                <span class="link-block">
                  <a href="./static/images/meta.png"
                     class="external-link button is-normal is-rounded is-dark" target="_blank">
                    <span class="icon">
                        <i class="fab fa-youtube"></i>
                    </span>
                    <span>Video</span>
                  </a>
                </span>
                <!-- Datasets Link. -->
                <!-- <span class="link-block">
                  <a href="https://cmu.box.com/s/kmayzq5ax2rxvwn97s0hzz0aq5vws9io" class="external-link button is-normal is-rounded is-dark" target="_blank">
                    <span class="icon">
                        <i class="fas fa-database"></i>
                    </span>
                    <span>Datasets</span>
                  </a>
                </span> -->
                <!-- twitter Link. -->
                <span class="link-block">
                  <!-- TODO:update -->
                  <a href="./static/images/meta.png"
                     class="external-link button is-normal is-rounded is-dark" target="_blank">
                    <span class="icon">
                        <i class="fab fa-twitter"></i>
                    </span>
                    <span>Summary</span>
                  </a>
                </span>
                <!-- Code Link. -->
                <span class="link-block">
                  <!-- TODO:update -->
                  <a href="./static/images/meta.png" class="external-link button is-normal is-rounded is-dark" target="_blank">
                    <span class="icon">
                      <i class="fab fa-github"></i>
                    </span>
                    <span>Code (Coming Soon)</span>
                  </a>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
<section class="section"></section>

<!-- <section class="section">
  <div class="container">
    <div class="columns is-centered has-text-centered">
      <div class="column is-two-thirds">
        <h2 class="title is-2">Video</h2>
            <div class="column is-full-width is-centered has-text-centered">
              <iframe width="520" height="292.5" src="https://www.youtube.com/embed/xum0Qe860Kw?si=H7bVZv3XSkOi3U9D" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<p style="margin-top: 10px;">Teaser Video</p>

<iframe width="520" height="292.5" src="https://www.youtube.com/embed/tvJxaqVvrl8?si=Ibicis4L0IKwIi1e" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<p style="margin-top: 10px;">Intro Video</p>
            </div>
        </div>
    </div>
      </div>
    </div>
  </div>
</section> -->


<!-- <h2 class="title is-2" style="text-align: center;">Abstract</h2> -->
<section class="section" id="abstract">
  <h2 class="title is-2" style="text-align: center;">Abstract</h2>
  <div class="container" style="width:65%;">
    <!-- <div class="columns is-centered">
      <img src="./resources/approach.png" ></img>
    </div> -->
    <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.9em;">
       Building <span style="color:#b36b00; font-weight:bold;">Behavioral Foundation Models</span> (BFMs) for humanoid robots has the potential to unify diverse control tasks under a single, promptable generalist policy. However, existing approaches are either exclusively deployed on simulated humanoid characters, or specialized to specific tasks such as tracking. We propose <span style="color:#3a6902; font-weight:bold;">B</span><span style="color:#b63620; font-weight:bold;">F</span><span style="color:#004bb3; font-weight:bold;">M</span><span style="color:#b36b00; font-weight:bold;">-Zero</span></span>, a framework that learns an effective shared latent representation that embeds <span style="color:#b63620; font-weight:bold;">motions</span>, <span style="color:#3a6902; font-weight:bold;">goals</span>, and <span style="color:#004bb3; font-weight:bold;">rewards</span> into a common space, enabling a single policy to be prompted for multiple downstream tasks without retraining. This well-structured latent space in BFM-Zero enables versatile and robust whole-body skills on a Unitree G1 humanoid in the real world, via diverse inference methods, including zero-shot <span style="color:#b63620; font-weight:bold;">motion tracking</span>, <span style="color:#3a6902; font-weight:bold;">goal reaching</span>, and <span style="color:#004bb3; font-weight:bold;">reward optimization</span>, and few-shot optimization-based adaptation. Unlike prior on-policy reinforcement learning (RL) frameworks, BFM-Zero builds upon recent advancements in <span style="color:#b36b00; font-weight:bold;">unsupervised RL</span> and <span style="color:#b36b00; font-weight:bold;">Forward-Backward (FB)</span> models, which offer an <span style="color:#b36b00; font-weight:bold;">objective-centric, explainable, and smooth latent representation</span> of whole-body motions. We further extend BFM-Zero with critical reward shaping, domain randomization, and history-dependent asymmetric learning to bridge the sim-to-real gap. Those key design choices are quantitatively ablated in simulation. A first-of-its-kind model, BFM-Zero establishes a step toward scalable, promptable behavioral foundation models for whole-body humanoid control.
    </p>
  </div>
</section>



<section class="section" id="approach" style="background-color: #fafafa;">
  <h2 class="title is-2" style="text-align: center;">Approach</h2>
  <div class="container" style="width:85%; margin: 0 auto;">
    <!-- <div class="columns is-centered">
      <img src="./resources/approach.png" ></img>
    </div> -->
    <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.9em; text-align: center;">An overview of the  <span style="color:#3a6902; font-weight:bold;">B</span><span style="color:#b63620; font-weight:bold;">F</span><span style="color:#004bb3; font-weight:bold;">M</span><span style="color:#b36b00; font-weight:bold;">-Zero</span></span>: After the pre-training stage, BFM-Zero forms a latent space that can be used for zero-shot inference and few-shot adaptation. 
    </p>
  </div>
  <div class="container" style="display: flex; justify-content: center; margin-top: 40px;">
    
    <div class="flip-cards-container" style="margin-left: 10%; transform: scale(1.3); transform-origin: center; width: 77%; height: auto; overflow: visible;">
      <!-- Left: First flip card -->
      <div class="flip-card-left">
        <div class="flip-card">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <img src="./static/images/pretraining.png" alt="Pre-training Image" loading="lazy">
            </div>
            <div class="flip-card-back">
              <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.7em;">Objective: Learn a <span style="color:#b00202; font-weight:bold;">unified latent representation</span> that embeds tasks (e.g., target motions, rewards, goals) into a shared space and a <span style="color:#b00202; font-weight:bold;">promptable policy</span> that conditions on this representation to perform diverse tasks without retraining.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Right: Two flip cards arranged vertically -->
      <div class="flip-cards-right">
        <!-- Second flip card -->
        <div class="flip-card-item">
          <div class="flip-card">
            <div class="flip-card-inner">
              <div class="flip-card-front">
                <img src="./static/images/inference.png" alt="Inference Image" loading="lazy">
              </div>
              <div class="flip-card-back">
                <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.7em;">BFM-Zero can <span style="color:#b00202; font-weight:bold;">zero-shot</span> perform tasks including motion tracking, goal reaching, and reward optimization.</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Third flip card -->
        <div class="flip-card-item">
          <div class="flip-card">
            <div class="flip-card-inner">
              <div class="flip-card-front">
                <img src="./static/images/adaptation.png" alt="Adaptation Image" loading="lazy">
              </div>
              <div class="flip-card-back">
                <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.7em;">BFM-Zero supports <span style="color:#b00202; font-weight:bold;">few-shot adaptation</span> to quickly adapt to specific requirements with minimal additional training.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section" id="how-it-works" style="background-color: #fafafa;">
  <div class="container" style="width:85%; margin: 0 auto;">
    <h3 class="title is-3" style="text-align: center; margin-bottom: 40px;">How it works: <span style="color: #b63620; font-weight: bold;">Unsupervised</span> RL and <span style="color: #b63620; font-weight: bold;">Zero-shot</span> inference</h3>
    
    <!-- Pre-training overview -->
    <div style="background: white; padding: 40px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 30px;">
      <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 1em; text-align: left; margin-bottom: 20px; color: #333; max-width: 100%; padding-left: 35px;">
        In pre-training, BFM-Zero aims to learn a latent space $z\in Z$, a forward <span style="color: #004bb3; font-weight: bold;">$\boldsymbol{F}(s, a, z)$</span> and a backward <span style="color: #3a6902; font-weight: bold;">$\boldsymbol{B}(s)$</span> representations, and a $z$-conditioned policy $\pi_z$ such that:
      </p>
      <div style="margin: 10px 0; padding-left: 60px;">
        <ol style="text-align: left; max-width: 100%; margin: 0 auto; font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: clamp(0.75em, 1.2vw, 0.95em); line-height: 2.0; padding-left: 0; padding-right: 35px;">
          <li style="margin-bottom: 20px; padding-left: 15px; word-wrap: break-word; overflow-wrap: break-word;">Starting from $\{s,a\}$ and follow $\pi_z$, the visitation probability of $s'$ is approximately <span style="color: #004bb3; font-weight: bold;">$\boldsymbol{F}(s, a, z)^\top$</span><span style="color: #3a6902; font-weight: bold;">$\boldsymbol{B}(s')$</span>.</li>
          <li style="margin-bottom: 20px; padding-left: 15px; word-wrap: break-word; overflow-wrap: break-word;">The Q-function of $\pi_z$ is given by <span style="color: #004bb3; font-weight: bold;">$\boldsymbol{F}^\top $</span>$z$ but not learned with supervision from any specific rewards.</li>
          <li style="margin-bottom: 20px; padding-left: 15px; word-wrap: break-word; overflow-wrap: break-word;">In inference time, for various objectives (goal reaching, tracking, reward optimization), we can use following fomulas to compute $z$ in a <strong style="color: #b63620;">zero-shot</strong> way:</li>
        </ol>
  </div>
      
      <!-- Three inference cards -->
      <div class="inference-cards" style="margin-top: 40px;">
      <!-- Goal Reaching card -->
      <div class="inference-card">
        <div class="inference-card-title">
          <div>Goal Reaching</div>
          <div style="font-size: 0.9rem; font-weight: normal; margin-top: 5px;">Natural transitions to any goal pose</div>
      </div>
          <div class="inference-card-content">
            <p><strong>Input:</strong> Target goal pose $s_g$</p>
            <div class="formula">
              $$z = B(s_g)$$
    </div>
          </div>
      </div>
      
      <!-- Motion Tracking card -->
      <div class="inference-card">
        <div class="inference-card-title">
          <div>Motion Tracking</div>
          <div style="font-size: 0.9rem; font-weight: normal; margin-top: 5px;">Real-time motion following</div>
      </div>
          <div class="inference-card-content">
            <p><strong>Input:</strong> Target reference motion $\{s_1, ..., s_T\}$</p>
            <div class="formula">
              $$z_t = \sum_{n}^N \lambda^n B(s_{t+n})$$
      </div>
      <p>$N$ is the window-size for tracking.</p>
      </div>
    </div>

      <!-- Reward Inference card -->
      <div class="inference-card">
        <div class="inference-card-title">
          <div>Reward Optimization</div>
          <div style="font-size: 0.9rem; font-weight: normal; margin-top: 5px;">Optimize reward functions in Inference-time </div>
      </div>
          <div class="inference-card-content">
            <p><strong>Input:</strong> Any given reward function $r(s)$</p>
            <div class="formula">
              $$z = \sum_{i} B(s_i)r(s_i)$$
            </div>
            <p>$s_i$ is the $i$-th state in the buffer.</p>
      </div>
      </div>
    </div>
    
    <!-- Remark box -->
    <div style="background: linear-gradient(135deg, #fff5f5 0%, #fef0f0 100%); padding: 30px; border-radius: 12px; border-left: 5px solid #b63620; box-shadow: 0 2px 8px rgba(182, 54, 32, 0.1); margin-top: 30px;">
      <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.95em; margin: 0; color: #333; line-height: 1.6;">
        <span style="color: #b63620; font-weight: bold; font-size: 1.1em;"> Remark:</span> Compared to other frameworks, we don't give the model any specific reward in the training, i.e., it is an <strong style="color: #b63620;">unsupervised RL</strong> problem. Moreover, the learned representation <span style="color: #004bb3; font-weight: bold;">$\boldsymbol{F}$</span>, <span style="color: #3a6902; font-weight: bold;">$\boldsymbol{B}$</span> and latent $Z$ are <strong style="color: #b63620;">aware of humanoid dynamics</strong>.
      </p>
    </div>
  </div>
  
  <!-- Description paragraph -->
  <div class="container" style="width:85%; margin: 40px auto 0;">
    <div style="background: white; padding: 40px 30px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
      <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 1.15em; margin: 0; color: #333; line-height: 1.7; text-align: center;">
        The <em><strong>well-regularized, dynamics-aware</strong></em> latent space  also enables <em>natural and smooth</em> transitions during <a href="#goal-reaching" style="color: #3a6902; text-decoration: underline;">goal reaching</a>, <em>natural and gentle</em> recovery in <a href="#motion-tracking" style="color: #b63620; text-decoration: underline;">motion tracking</a> and <a href="#disturbance-rejection" style="color: #666; text-decoration: underline;">disturbance rejection</a>, <em>zero-shot</em> <a href="#reward-optimization" style="color: #004bb3; text-decoration: underline;">reward optimization</a> (for any given reward at test time), and <em>efficient</em> <a href="#few-shot-adaptation" style="color: #666; text-decoration: underline;">few-shot adaptation</a> .
      </p>
    </div>
    </div>
  </div>
</section>


<section class="section" id="zero-shot">
  <h2 class="title is-2" style="text-align: center;">Zero-shot Inference</h2>
  <h3 class="title is-5" style="text-align: center;"><strong>ALL demos are <span style="color: #b00202;">real-time</span></strong> (except for the tracking highlight) and from <strong><span style="color: #b00202;">the same policy</span></strong>.</h3>
  
  <!-- <div class="container" style="width:70%; margin: 0 auto;"> -->
    <!-- <div class="columns is-centered">
      <img src="./resources/approach.png" ></img>
    </div> -->
    <!-- <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.9em; text-align: center;">
     At test time, BFM-Zero can be used to solve different tasks including <span style="color:#b00202; font-weight:bold;">motion tracking</span>, <span style="color:#b00202; font-weight:bold;">goal reaching</span>, and <span style="color:#b00202; font-weight:bold;">reward optimization</span> in <span style="color:#b00202; font-weight:bold;">zero-shot</span> fashion.
    </p> -->
  <!-- </div> -->
</section>


<section class="section" id="goal-reaching">
  <h2 class="title is-3" style="text-align: center; color: #3a6902;">Goal Reaching</h2>
  <div class="container" style="max-width: 75%; margin: 0 auto; background: #f0f8f0; padding: 40px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
    <!-- Video timeline control -->
    <h4 style="text-align: center; margin-bottom: 15px; font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif);">Click image for real-world goal pose, click  for natural transition, and drag the progress bar to view frame by frame.</h4>
    <div class="video-timeline-container">
      <div class="timeline-marks" id="timelineMarks"></div>
      <input type="range" id="timelineSlider" class="timeline-slider" min="0" max="25" step="0.1" value="0" style="background: #ccc;">
      <div class="timeline-current-time" id="currentTime">00:00.00</div>
      </div>

    <!-- Main video (for frame-by-frame viewing) -->
      <div class="column has-text-centered">
        <video id="frameVideo" width="90%" height="auto" muted playsinline preload="metadata" style="border: 1px solid #bbb; border-radius: 10px; margin: 1.0%;">
          <source src="./resources/goal_reaching/full/full-2_firefox_720p.mp4" type="video/mp4">
        </video>
      </div>
      <h4 style="text-align: center; margin-bottom: 15px; font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif);">We also test diverse initial on the ground pose to a standing pose. <strong></strong>Follow the gallery to see the full description of the performance.</strong></h4>
    <!-- Goal Reaching video gallery -->
    <div class="video-gallery">
      <!-- Left arrow button -->
      <button class="gallery-arrow gallery-arrow-left" onclick="moveGoalGallery(-1)"></button>
      
      <!-- Right arrow button -->
      <button class="gallery-arrow gallery-arrow-right" onclick="moveGoalGallery(1)"></button>
      
      <div class="gallery-container" id="goalGalleryContainer">
        <!-- Video item 2 - Any-to-Target 2 -->
        <div class="gallery-item">
          <video muted playsinline autoplay loop preload="metadata">
            <source src="./resources/goal_reaching/any2T/any2T-2_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <div class="video-info">
            <h4 style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.9em;">Target: T-Pose <img src="./resources/tpose.png" alt="T-Pose" loading="lazy" style="width: 51px; height: auto; vertical-align: middle; margin-left: 5px;"></h4>
            <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.85em;">BFM-Zero enables a natural and smooth transition from the ground to T-Pose.</p>
    </div>
        </div>

        <!-- Video item 1 - Any-to-Target 1 -->
        <div class="gallery-item">
          <video muted playsinline autoplay loop preload="metadata">
            <source src="./resources/goal_reaching/any2T/any2T-1_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <div class="video-info">
            <h4 style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.9em;">Target: T-Pose <img src="./resources/tpose.png" alt="T-Pose" loading="lazy" style="width: 51px; height: auto; vertical-align: middle; margin-left: 5px;"></h4>
            <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.85em;">A brief running-like adjustment occurs before achieving full stability.</p>
      </div>
      </div>

        <!-- Video item 3 - Any-to-Pose 1 -->
        <div class="gallery-item">
          <video muted playsinline autoplay loop preload="metadata">
            <source src="./resources/goal_reaching/any2pose/any2pose-4_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
          <div class="video-info">
            <h4 style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.9em;">Target: Hands-on-hips posture <img src="./resources/pose.png" alt="Pose" loading="lazy" style="width: 30px; height: auto; vertical-align: middle; margin-left: 5px;"></h4>
            <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.85em;">Smooth and natural transitions to Hands-on-hips posture.</p>
      </div>
    </div>

        <!-- Video item 4 - Any-to-Pose 2 -->
        <div class="gallery-item">
          <video muted playsinline autoplay loop preload="metadata">
            <source src="./resources/goal_reaching/any2pose/any2pose-2_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
          <div class="video-info">
            <h4 style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.9em;">Target: Hands-on-hips posture <img src="./resources/pose.png" alt="Pose" loading="lazy" style="width: 30px; height: auto; vertical-align: middle; margin-left: 5px;"></h4>
            <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.85em;">Rapid stabilization occurs when the initial stand-up is unsteady.</p>
      </div>
    </div>
        
        <!-- Video item 5 - Any-to-Pose 3 -->
        <div class="gallery-item">
          <video muted playsinline autoplay loop preload="metadata">
            <source src="./resources/goal_reaching/any2pose/any2pose-7_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
          <div class="video-info">
            <h4 style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.9em;">Target: Hands-on-hips posture <img src="./resources/pose.png" alt="Pose" loading="lazy" style="width: 30px; height: auto; vertical-align: middle; margin-left: 5px;"></h4>
            <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.85em;">Successfully recovers even after the first failed attempt to stand.</p>
      </div>
    </div>
        
        <!-- Video item 6 - Any-to-Pose 4 -->
        <div class="gallery-item">
          <video muted playsinline autoplay loop preload="metadata">
            <source src="./resources/goal_reaching/any2pose/any2pose-3_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <div class="video-info">
            <h4 style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.9em;">Target: Hands-on-hips posture <img src="./resources/pose.png" alt="Pose" loading="lazy" style="width: 30px; height: auto; vertical-align: middle; margin-left: 5px;"></h4>
            <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.85em;">If the initial pose is not natural, it prioritizes standing up quickly before fine adjustments.</p>
    </div>
  </div>
        
        <!-- Video item 7 - Any-to-Pose 5 -->
        <div class="gallery-item">
          <video muted playsinline autoplay loop preload="metadata">
            <source src="./resources/goal_reaching/any2pose/any2pose-5_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <div class="video-info">
            <h4 style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.9em;">Target: Hands-on-hips posture <img src="./resources/pose.png" alt="Pose" loading="lazy" style="width: 30px; height: auto; vertical-align: middle; margin-left: 5px;"></h4>
            <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.85em;">Besides, BFM-Zero maintains a high rate of efficient goal reaching...</p>
      </div>
      </div>
        
        <!-- Video item 8 - Any-to-Pose 6 -->
        <div class="gallery-item">
          <video muted playsinline autoplay loop preload="metadata">
            <source src="./resources/goal_reaching/any2pose/any2pose-1_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <div class="video-info">
            <h4 style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.9em;">Target: Hands-on-hips posture <img src="./resources/pose.png" alt="Pose" loading="lazy" style="width: 30px; height: auto; vertical-align: middle; margin-left: 5px;"></h4>
            <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.85em;">...a high rate of efficient goal reaching...</p>
      </div>
      </div>
        
        <!-- Video item 9 - Any-to-Pose 7 -->
        <div class="gallery-item">
          <video muted playsinline autoplay loop preload="metadata">
            <source src="./resources/goal_reaching/any2pose/any2pose-6_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <div class="video-info">
            <h4 style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.9em;">Target: Hands-on-hips posture <img src="./resources/pose.png" alt="Pose" loading="lazy" style="width: 30px; height: auto; vertical-align: middle; margin-left: 5px;"></h4>
            <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.85em;">...a high rate of efficient goal reaching.</p>
      </div>
      </div>
      
      <div class="gallery-item">
        <video muted playsinline autoplay loop preload="metadata">
          <source src="./resources/goal_reaching/any2pose/robust-1_firefox_720p.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>
        <div class="video-info">
          <h4 style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.9em;">Target: Hands-on-hips posture <img src="./resources/pose.png" alt="Pose" style="width: 30px; height: auto; vertical-align: middle; margin-left: 5px;"></h4>
          <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.85em;">Robust even under severe wrist breakage.</p>
      </div>
      </div>
    </div>
    
      <!-- Navigation dots -->
      <div class="gallery-dots" id="goalGalleryDots">
        <span class="gallery-dot active" onclick="goToGoalSlide(0)"></span>
        <span class="gallery-dot" onclick="goToGoalSlide(1)"></span>
        <span class="gallery-dot" onclick="goToGoalSlide(2)"></span>
        <span class="gallery-dot" onclick="goToGoalSlide(3)"></span>
        <span class="gallery-dot" onclick="goToGoalSlide(4)"></span>
        <span class="gallery-dot" onclick="goToGoalSlide(5)"></span>
        <span class="gallery-dot" onclick="goToGoalSlide(6)"></span>
        <span class="gallery-dot" onclick="goToGoalSlide(7)"></span>
        <span class="gallery-dot" onclick="goToGoalSlide(8)"></span>
        <span class="gallery-dot" onclick="goToGoalSlide(9)"></span>
      </div>
    </div>
  </div>
</section>

<section class="section" id="motion-tracking">
  <h2 class="title is-3" style="text-align: center; color: #b63620;">Motion Tracking</h2>
  
  <!-- Highlight Video Section -->
  <div class="container" style="max-width: 75%; margin: 0 auto; background: #f8f0f0; padding: 40px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
    <div style="text-align: center; margin-bottom: 30px;">
        <h4 style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); color: #666; margin-bottom: 20px;">
          Check our <span style="color: #dc3545; font-weight: bold;">highlight tracking video</span> in dancing with <span style="color: #dc3545; font-weight: bold;">safe, natural, and gentle recovery</span> even when confronted with unexpected falls.<br>
          <!-- <span style="font-style: italic;">(Strongly recommend turning on sound)</span> -->
        </h4>
      <video width="80%" height="auto" controls autoplay muted loop style="border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
        <source src="./resources/tracking/tracking_highlight2/tracking_highlight2-1_firefox_720p.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
  </div>
  
    <!-- Video gallery -->
    <div style="text-align: center; margin-top: 40px; margin-bottom: 20px;">
      <h4 style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); color: #666; margin-bottom: 15px;">
        More motion tracking demos including styled locomotion, boxing, playing ball games and dancing. All demos come from <span style="color: #dc3545; font-weight: bold;">a single, continuous video shooting with the same policy.</span>
      </h4>
      <button onclick="showFullVideo()" class="full-video-btn">
        Full Video (4x)
      </button>
    </div>
    <div class="video-gallery">
      <!-- Left arrow button -->
      <button class="gallery-arrow gallery-arrow-left" onclick="moveGallery(-1)"></button>
      
      <!-- Right arrow button -->
      <button class="gallery-arrow gallery-arrow-right" onclick="moveGallery(1)"></button>
      
      <div class="gallery-container" id="galleryContainer">
        <!-- Video item 1 - Segment 5 (Walk and Turn) -->
        <div class="gallery-item">
          <video muted playsinline autoplay loop preload="metadata">
            <source src="./resources/tracking/segment/seg5_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
          <div class="video-info">
            <h4>Walk and Turn</h4>
      </div>
      </div>
    
        <!-- Video item 2 - Segment 2 (Ball Games) -->
        <div class="gallery-item">
          <video muted playsinline autoplay loop preload="metadata">
            <source src="./resources/tracking/segment/seg2_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
          <div class="video-info">
            <h4>Ball Games</h4>
      </div>
    </div>

        <!-- Video item 3 - Segment 7 (Dancing with Fall and Recovery) -->
        <div class="gallery-item">
          <video muted playsinline autoplay loop preload="metadata">
            <source src="./resources/tracking/segment/seg7_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
          <div class="video-info">
            <h4>Dancing (Including Fall and Recovery)</h4>
  </div>
        </div>
        
        <!-- Video item 4 - Segment 6 (Styled Walking with Salute) -->
        <div class="gallery-item">
          <video muted playsinline autoplay loop preload="metadata">
            <source src="./resources/tracking/segment/seg6_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
          <div class="video-info">
            <h4>Styled Walking (Salute!)</h4>
      </div>
    </div>
    
        <!-- Video item 5 - Segment 3 (Boxing) -->
        <div class="gallery-item">
          <video muted playsinline autoplay loop preload="metadata">
            <source src="./resources/tracking/segment/seg3_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
          <div class="video-info">
            <h4>Boxing</h4>
      </div>
        </div>
        
        <!-- Video item 6 - Segment 4 (Walking with Different Steps) -->
        <div class="gallery-item">
          <video muted playsinline autoplay loop preload="metadata">
            <source src="./resources/tracking/segment/seg4_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
          <div class="video-info">
            <h4>Walking (Small Steps and Large Steps)</h4>
      </div>
    </div>

        <!-- Video item 7 - Segment 1 (Dancing) -->
        <div class="gallery-item">
          <video muted playsinline autoplay loop preload="metadata">
            <source src="./resources/tracking/segment/seg1_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
          <div class="video-info">
            <h4>Dancing</h4>
      </div>
    </div>
      </div>
  
      <!-- Navigation buttons removed -->
      
      <!-- Navigation dots -->
      <div class="gallery-dots" id="galleryDots">
        <span class="gallery-dot active" onclick="goToSlide(0)"></span>
        <span class="gallery-dot" onclick="goToSlide(1)"></span>
        <span class="gallery-dot" onclick="goToSlide(2)"></span>
        <span class="gallery-dot" onclick="goToSlide(3)"></span>
        <span class="gallery-dot" onclick="goToSlide(4)"></span>
        <span class="gallery-dot" onclick="goToSlide(5)"></span>
        <span class="gallery-dot" onclick="goToSlide(6)"></span>
      </div>
      </div>
    </div>
  </div>
</section>

<section class="section" id="reward-optimization">
  <h2 class="title is-3" style="text-align: center; color: #004bb3;">Reward Optimization</h2>

  <div class="container" style="max-width: 75%; margin: 0 auto; background: #f0f2f8; padding: 40px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
      
   <h4 style="text-align: center; margin-bottom: 15px; font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.95em;">We do not have <span style="color: #004bb3; font-weight: bold;">any labeled rewards</span> in training. The reward inference (optimization) happens in the test time. Users can <span style="color: #004bb3; font-weight: bold;">prompt in any type of reward function</span> w.r.t. the robot states, and the policy <span style="color: #004bb3; font-weight: bold;">zero-shot</span> output the optimized skills without retraining. ($R$ below is the rewards.)</h4>
    <div class="tabs-container" style="max-width: 100%;">
      <div class="tabs-header">
        <button class="tab-button active" onclick="showTab('basic-locomotion')">Basic Locomotion</button>
        <button class="tab-button" onclick="showTab('arm-control')">Arm Control</button>
        <button class="tab-button" onclick="showTab('base-height')">Base Height Control</button>
        <button class="tab-button" onclick="showTab('behavior-diversity')">Behavior Diversity</button>
        <button class="tab-button" onclick="showTab('skill-composition')">Skill Composition</button>
      </div>
      
      <div id="basic-locomotion" class="tab-content active">
        <h3>Basic Locomotion</h3>
        <p>We enable the robot to perform basic locomotion tasks including standing still, walking forward/backward/sideways, turning left/right.</p>
        
        <!-- Sub-tabs -->
        <div class="sub-tabs-container">
          <div class="sub-tabs-header">
            <button class="sub-tab-button active" onclick="handleSubTabClick('stand-still', event)">Stand Still</button>
            <button class="sub-tab-button" onclick="handleSubTabClick('go-forward', event)">Go Forward</button>
            <button class="sub-tab-button" onclick="handleSubTabClick('strafe-left', event)">Strafe Left</button>
            <button class="sub-tab-button" onclick="handleSubTabClick('go-backward', event)">Go Backward</button>
            <button class="sub-tab-button" onclick="handleSubTabClick('strafe-right', event)">Strafe Right</button>
            <button class="sub-tab-button" onclick="handleSubTabClick('turn-anticlockwise', event)">Turn Anticlockwise</button> 
            <button class="sub-tab-button" onclick="handleSubTabClick('turn-clockwise', event)">Turn Clockwise</button>
    </div>

           <div id="stand-still" class="sub-tab-content active">
             <p>Maintains stable standing posture without movement.</p>
             <div class="reward-formula" style="font-size: 0.8em;">
              $$R = (\mathrm{head\_height} = 1.2\mathrm{m}) \wedge (\mathrm{base\_vel} = 0\mathrm{m/s})$$
             </div>
             <div style="margin-top: 15px;">
               <video id="video-stand-still" width="100%" height="auto" controls autoplay muted loop preload="metadata" style="border-radius: 8px;">
                 <source src="./resources/reward_optimization/locomotion/locomotion-2_firefox_720p.mp4" type="video/mp4">
                 Your browser does not support the video tag.
        </video>
      </div>
    </div>

          <div id="go-forward" class="sub-tab-content">
            <p>Forward walking at 0.7m/s</p>
            <div class="reward-formula" style="font-size: 0.8em;">
              $$R = (\mathrm{head\_height} = 1.2\mathrm{m}) \wedge (\mathrm{base\_vel\_forward} = 0.7\mathrm{m/s})$$
            </div>
            <div style="margin-top: 15px;">
              <video id="video-go-forward" width="100%" height="auto" controls autoplay muted loop preload="metadata" style="border-radius: 8px;">
                <source src="./resources/reward_optimization/locomotion/locomotion-1_firefox_720p.mp4" type="video/mp4">
                Your browser does not support the video tag.
        </video>
      </div>
    </div>

                    
          <div id="strafe-left" class="sub-tab-content">
            <p>Sideways movement to the left at 0.3m/s</p>
            <div class="reward-formula" style="font-size: 0.8em;">
              $$R = (\mathrm{head\_height} = 1.2\mathrm{m}) \wedge (\mathrm{base\_vel\_left} = 0.3\mathrm{m/s})$$
            </div>
            <div style="margin-top: 15px;">
              <video id="video-strafe-left" width="100%" height="auto" controls autoplay muted loop preload="metadata" style="border-radius: 8px;">
                <source src="./resources/reward_optimization/locomotion/locomotion-3_firefox_720p.mp4" type="video/mp4">
                Your browser does not support the video tag.
        </video>
      </div>
          </div>
          
          
          <div id="go-backward" class="sub-tab-content">
            <p>Backward walking at 0.3m/s</p>
            <div class="reward-formula" style="font-size: 0.8em;">
              $$R = (\mathrm{head\_height} = 1.2\mathrm{m}) \wedge (\mathrm{base\_vel\_backward} = 0.3\mathrm{m/s})$$
            </div>
            <div style="margin-top: 15px;">
              <video id="video-go-backward" width="100%" height="auto" controls autoplay muted loop preload="metadata" style="border-radius: 8px;">
                <source src="./resources/reward_optimization/locomotion/locomotion-4_firefox_720p.mp4" type="video/mp4">
                Your browser does not support the video tag.
        </video>
      </div>
    </div>
          
          
          <div id="strafe-right" class="sub-tab-content">
            <p>Sideways movement to the right at 0.3m/s</p>
            <div class="reward-formula" style="font-size: 0.8em;">
              $$R = (\mathrm{head\_height} = 1.2\mathrm{m}) \wedge (\mathrm{base\_vel\_right} = 0.3\mathrm{m/s})$$
      </div>
            <div style="margin-top: 15px;">
              <video id="video-strafe-right" width="100%" height="auto" controls autoplay muted loop preload="metadata" style="border-radius: 8px;">
                <source src="./resources/reward_optimization/locomotion/locomotion-5_firefox_720p.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>
      </div>
          </div>
          
          <div id="turn-anticlockwise" class="sub-tab-content">
            <p>Anticlockwise turning at 5.0 rad/s</p>
            <div class="reward-formula" style="font-size: 0.8em;">
              $$R = (\mathrm{base\_height} > 0.5\mathrm{m}) \wedge (\mathrm{base\_ang\_vel\_z} = 5.0\mathrm{rad/s})$$
            </div>
            <div style="margin-top: 15px;">
              <video id="video-turn-anticlockwise" width="100%" height="auto" controls autoplay muted loop preload="metadata" style="border-radius: 8px;">
                <source src="./resources/reward_optimization/locomotion/locomotion-6_firefox_720p.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>
    </div>
  </div>
  
          <div id="turn-clockwise" class="sub-tab-content">
            <p>Clockwise turning at 5.0 rad/s</p>
            <div class="reward-formula" style="font-size: 0.8em;">
              $$R = (\mathrm{base\_height} > 0.5\mathrm{m}) \wedge (\mathrm{base\_ang\_vel\_z} = -5.0\mathrm{rad/s})$$
            </div>
            <div style="margin-top: 15px;">
              <video id="video-turn-clockwise" width="100%" height="auto" controls autoplay muted loop preload="metadata" style="border-radius: 8px;">
                <source src="./resources/reward_optimization/locomotion/locomotion-7_firefox_720p.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </div>
          </div>
        </div>
      </div>
      
      <div id="arm-control" class="tab-content">
        <h3>Arm Control</h3>
          <p>Put down the arm <span style="color: #007bff;"><strong>(low)</strong></span> or Raise the arm <span style="color: #007bff;"><strong>(high)</strong></span></p>
          <div class="reward-formula" style="font-size: 0.8em;">
            $$R_{\text{low}} = 1 - \min\{|\mathrm{wrist\_height} - 0.7\mathrm{m}| - 0.1\mathrm{m}\} = (\mathrm{wrist\_height} \in [0.6, 0.8]\mathrm{m})$$
            $$R_{\text{high}} = \min\{(\mathrm{wrist\_height} - 1.0\mathrm{m}), 1\} = (\mathrm{wrist\_height} > 1.0\mathrm{m})$$
        </div>
        
        <!-- Interactive Wrist Height Control -->
        <div class="arm-control-container">
          <div class="inference-control">
            <h4>Reward = Right wrist & Left wrist</h4>
            <div class="wrist-controls">
              <div class="wrist-section">
                <div class="wrist-input-box">
                  <span class="wrist-label">Right wrist = </span>
                  <div class="button-group">
                    <button class="reward-button" data-value="high" onclick="selectReward(this, 'right')">high</button>
                    <button class="reward-button" data-value="low" onclick="selectReward(this, 'right')">low</button>
                  </div>
                </div>
              </div>
              <div class="wrist-section">
                <div class="wrist-input-box">
                  <span class="wrist-label">Left wrist = </span>
                  <div class="button-group">
                    <button class="reward-button" data-value="high" onclick="selectReward(this, 'left')">high</button>
                    <button class="reward-button" data-value="low" onclick="selectReward(this, 'left')">low</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <div class="video-display">
            <div class="video-container-arm">
              <img id="arm-image" style="display: none; width: 100%; height: 100%; object-fit: cover;">
              <div class="video-placeholder">
                <div class="placeholder-text">Select reward values to show image</div>
              </div>
            </div>
            <!-- <button class="continuous-play-btn" onclick="showContinuousVideo()">Continuous Play</button> -->
          </div>
          
          <!-- Video Modal -->
          <!-- <div id="video-modal" class="video-modal" style="display: none;">
            <div class="modal-content">
              <span class="close-btn" onclick="closeContinuousVideo()">&times;</span>
              <video id="continuous-video" width="100%" height="auto" controls muted loop preload="metadata">
                <source src="./resources/reward_optimization/arm_control/arm_control-1_firefox_720p.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </div>
          </div> -->
        </div>
      </div>
      
      <div id="base-height" class="tab-content">
        <h3>Base Height Control</h3>
        
        <!-- Base Height Control Videos -->
        <div class="video-grid-2x2">
          <div class="video-item">
            <h5>Low-height Forward Motion</h5>
            <div class="video-container">
                <div class="video-cover" onclick="playVideo(this)">
                  <div class="formula-cover">
                    <video class="video-bg" muted loop playsinline>
                      <source src="./resources/reward_optimization/height_control/height_control-1_firefox_720p.mp4" type="video/mp4">
                    </video>
                    <div class="formula-text">Base Height = <span class="height-value">0.6m</span> & Go Forward</div>
        </div>
                  <div class="cover-overlay">
                    <div class="play-button">
                      <i class="fas fa-play"></i>
                    </div>
                  </div>
                </div>
              <video muted playsinline preload="none" style="display: none;">
                <source src="./resources/reward_optimization/height_control/height_control-1_firefox_720p.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </div>
            <!-- <div class="reward-formula">
              $$R_{height1} = \exp(-|h_{target} - h_{current}|)$$
            </div> -->
          </div>
          <div class="video-item">
            <h5>Seated Crouch</h5>
            <div class="video-container">
              <div class="video-cover" onclick="playVideo(this)">
                  <div class="formula-cover">
                    <video class="video-bg" muted loop playsinline>
                      <source src="./resources/reward_optimization/height_control/height_control-2_firefox_720p.mp4" type="video/mp4">
                    </video>
                    <div class="formula-text">Base Height = <span class="height-value">0m</span></div>
                  </div>
                <div class="cover-overlay">
                  <div class="play-button">
                    <i class="fas fa-play"></i>
                  </div>
                </div>
              </div>
              <video muted playsinline preload="none" style="display: none;">
                <source src="./resources/reward_optimization/height_control/height_control-2_firefox_720p.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </div>
            <!-- <div class="reward-formula">
              $$R_{height2} = \cos(\theta_{spine}) \cdot \exp(-|\theta_{knee}|)$$
            </div> -->
          </div>
          <div class="video-item">
            <h5>Supported Crouch</h5>
            <div class="video-container">
              <div class="video-cover" onclick="playVideo(this)">
                  <div class="formula-cover">
                    <video class="video-bg" muted loop playsinline>
                      <source src="./resources/reward_optimization/height_control/height_control-3_firefox_720p.mp4" type="video/mp4">
                    </video>
                    <div class="formula-text">Base Height = <span class="height-value">0.25m</span> & Higher Knee</div>
                  </div>
                <div class="cover-overlay">
                  <div class="play-button">
                    <i class="fas fa-play"></i>
                  </div>
                </div>
              </div>
              <video muted playsinline preload="none" style="display: none;">
                <source src="./resources/reward_optimization/height_control/height_control-3_firefox_720p.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </div>
            <!-- <div class="reward-formula">
              $$R_{height3} = \exp(-|\omega_{COM}|) \cdot \cos(\theta_{balance})$$
            </div> -->
          </div>
          <div class="video-item">
            <h5>Grounded Crouch</h5>
            <div class="video-container">
              <div class="video-cover" onclick="playVideo(this)">
                  <div class="formula-cover">
                    <video class="video-bg" muted loop playsinline>
                      <source src="./resources/reward_optimization/height_control/height_control-4_firefox_720p.mp4" type="video/mp4">
                    </video>
                    <div class="formula-text">Base Height = <span class="height-value">0m</span> & Higher Knee</div>
                  </div>
                <div class="cover-overlay">
                  <div class="play-button">
                    <i class="fas fa-play"></i>
                  </div>
                </div>
              </div>
              <video muted playsinline preload="none" style="display: none;">
                <source src="./resources/reward_optimization/height_control/height_control-4_firefox_720p.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </div>
            <!-- <div class="reward-formula">
              $$R_{height4} = \alpha \cdot R_{posture} + \beta \cdot R_{adaptation}$$
            </div> -->
          </div>
        </div>
    </div>

      <div id="behavior-diversity" class="tab-content">
        <h3>Behavior Diversity</h3>
          <p>By sampling different sub-buffers from the replay buffer, we can find <span style="color: #004bb3;"><strong>different</strong></span> behaviors even with the <span style="color: #004bb3;"><strong>same</strong></span> reward function.</p>
          <div class="reward-formula" style="font-size: 0.8em;">
            $$R = (\mathrm{left\_wrist\_height} \in [0.6, 0.8]\mathrm{m}) \wedge (\mathrm{right\_wrist\_height} > 1\mathrm{m})$$
        </div>
        
        <div class="diversity-content">
          <div class="diversity-text">
            <p><strong>Observation:</strong></p>
            <ul>
              <li>1. All five poses <span style="color: #004bb3;"><strong></strong>satisfy</strong></span> the reward function</li>
              <li>2. The lower-body postures have some <span style="color: #004bb3;"><strong></strong>differences</strong></span></li>
              <li>3. The upper-body postures, especially the right arm in the last pose, have significant <span style="color: #004bb3;"><strong></strong>differences</strong></span></li>
        </ul>
          </div>
          <div class="diversity-video">
            <video width="100%" height="auto" controls autoplay muted loop style="border-radius: 8px;">
              <source src="./resources/reward_optimization/diversity/diversity-1_firefox_720p.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </div>
        </div>
    </div>
    <div id="skill-composition" class="tab-content">
    <h3>Skill Composition</h3>
        <p>Taking the arm control and basic locomotion as examples, we can combine them to form new skills.</p>
        <div class="reward-formula">
          $$R = w_{\text{arm}} \cdot R_{\text{arm}} + w_{\text{loco}} \cdot R_{\text{loco}} $$
    </div>
        <p>Here, w is the corresponding weight for the reward function, we express <span style="color: #004bb3;"><strong>low</strong></span> as "l", <span style="color: #004bb3;"><strong>high</strong></span> as "h", "arm-l-h" means the right wrist is <span style="color: #004bb3;"><strong>low</strong></span> and the left wrist is <span style="color: #004bb3;"><strong>high</strong></span>.</p>
        <p><span style="color: #004bb3;">Note: All demos are from a continuous video shooting with the same policy.</strong></span></p>
        <!-- Skill Comp Video Gallery -->
        <div class="skill-gallery">
          <div class="gallery-grid">
           
            <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-18_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
      </div>
              <div class="video-label">backward & arms-h-h</div>
    </div>
            <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-17_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
              </div>
              <div class="video-label">strafe-right & arms-h-h</div>
            </div>
            <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-16_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
              </div>
              <div class="video-label">strafe-left & arms-h-l</div>
            </div>
            <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-15_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
              </div>
              <div class="video-label">forward & arms-h-l</div>
            </div>
            <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-14_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
              </div>
              <div class="video-label">backward & arms-h-l</div>
            </div>
            <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-12_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
              </div>
              <div class="video-label">strafe-right & arms-h-l</div>
            </div>
            <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-13_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
              </div>
              <div class="video-label">forward & arms-l-h</div>
            </div>
            <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-11_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
              </div>
              <div class="video-label">backward & arms-l-h</div>
            </div>
            <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-10_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
              </div>
              <div class="video-label">strafe-right & arms-l-h</div>
            </div>
            <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-9_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
              </div>
              <div class="video-label">forward & arms-l-l</div>
            </div>
            <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-8_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
              </div>
              <div class="video-label">strafe-left & arms-l-l</div>
            </div>
            <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-7_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
              </div>
              <div class="video-label">backward & arms-l-l</div>
            </div>
            <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-6_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
              </div>
              <div class="video-label">strafe-right & arms-l-l</div>
            </div>
            <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-5_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
              </div>
              <div class="video-label">turn anticlockwise & arms-l-l</div>
            </div>
            <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-4_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
              </div>
              <div class="video-label">turn clockwise & arms-l-l</div>
            </div>
            <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-3_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
              </div>
              <div class="video-label">turn-anticlockwise & arms-h-l</div>
            </div>
            <!-- <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-2_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
              </div>
              <div class="video-label">turn-clockwise & arms-h-l</div>
            </div> -->
            <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-1_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
              </div>
              <div class="video-label">turn-anticlockwise & arms-l-h</div>
            </div>
            <div class="gallery-item">
              <video class="gallery-video" autoplay muted loop preload="metadata">
                <source src="./resources/reward_optimization/skill_comp/skill_comp-19_firefox_720p.mp4" type="video/mp4">
              </video>
              <div class="video-overlay">
                <div class="play-icon"></div>
              </div>
              <div class="video-label">strafe-left & arms-h-h</div>
            </div>
          </div>
        </div>
        
      </div>
    </div>
    <p style="text-align: center; margin-top: 20px; font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.9em; color: #666;"><strong>Note:</strong> Right/Left is relative to the robot; the reward functions are for illustration purposes, in the inference time, we also have some soft constraints and regularization terms.</p>
    </div>
</section>
  
<section class="section" style="background-color: #f8f8f8;" id="disturbance-rejection">
  <h2 class="title is-2" style="text-align: center;">Natural Recovery from Large Disturbance</h2>
  <div class="container" style="max-width: 80%; margin: 0 auto;">
    <h4 style="text-align: center; margin-bottom: 15px; font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif);">We demonstrate the robustness and flexibility of BFM-Zero: The policy enables the humanoid robot to recover gracefully from various disturbances, including <span style="color: #a65320; font-weight: bold;">heavy pushes</span>, <span style="color: #a65320; font-weight: bold;">torso kicks</span>, <span style="color: #a65320; font-weight: bold;">ground pulls</span>, and <span style="color: #a65320; font-weight: bold;">leg kicks</span>.</h4>
    <div class="columns is-centered">
      <div class="column is-half">
        <div class="has-text-centered">
          <video width="100%" height="auto" controls autoplay muted loop style="border-radius: 8px; margin-bottom: 15px;">
            <source src="./resources/disturbance/disturbance-1_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
      </video>
          <h4 style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 1em; margin-bottom: 10px;">Highlight: <strong style="color: #a65320;">Natural</strong> recovery from pulling to the ground</h4>

    </div>
      </div>
      <div class="column is-half">
        <div class="has-text-centered">
          <video width="100%" height="auto" controls autoplay muted loop style="border-radius: 8px; margin-bottom: 15px;">
            <source src="./resources/disturbance/disturbance-2_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
           <h4 style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 1em; margin-bottom: 10px;">Highlight: <strong style="color: #a65320;">Emergent behavior</strong> (running) from heavy pushes</h4>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section" style="background-color: #f5f5f5;" id="few-shot-adaptation">
  <h2 class="title is-2" style="text-align: center;">Few-shot Adaptation</h2>
  <div class="container" style="max-width: 80%; margin: 0 auto;">
    <h4 style="text-align: center; margin-bottom: 15px; font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif);">We demonstrate BFM-Zero's few-shot adaptation capability, the smooth structure of our latent space enables efficient <span style="color: #dc3545; font-weight: bold;">search-based optimization</span> in simulation to discover a better latent instead of directly using zero-shot inference within a short time.</h4>
    <!-- Top: Setting image -->
    <div class="has-text-centered" style="margin-bottom: 30px;">
      <img src="./resources/adaptation/setting.png" alt="Adaptation Setting" loading="lazy" style="width: 100%; max-width: 300px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
    </div>
     <h4 style="text-align: center; margin-bottom: 15px; font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif);">When the robot carries a <span style="color: #dc3545; font-weight: bold;">4kg payload</span> on its torso, we can perform adaptation to let the robot keep single-leg standing for longer time.</h4>
    <!-- Bottom: Before/After video comparison -->
    <div style="display: flex; align-items: center; justify-content: center; gap: 20px; flex-wrap: nowrap; max-height: 60vh;">
      <!-- Before video -->
      <div style="flex: 0 0 40%; max-width: 40%;">
        <div class="has-text-centered">
          <div style="border: 3px solid #dc3545; border-radius: 8px; padding: 5px; background: rgba(220, 53, 69, 0.05);">
            <video width="100%" height="auto" controls style="border-radius: 5px; max-height: 50vh;">
              <source src="./resources/adaptation/before_adapt_firefox_720p.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <h4 style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.9em; margin-top: 8px; color: #dc3545;">Before Adaptation</h4>
          </div>
        </div>
      </div>
      
      <!-- Arrow -->
      <div style="flex: 0 0 auto; text-align: center;">
        <div style="margin: 20px 0;">
          <div style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 1.0em; font-weight: bold; color: #666; margin-bottom: 10px; line-height: 1.3;">
            <div>Adaptation in Sim</div>
            <div style="font-size: 0.8em; margin-top: 5px;">for less than 2 minutes</div>
          </div>
          <div style="font-size: 3em; color: #666;"></div>
        </div>
      </div>
      
      <!-- After video -->
      <div style="flex: 0 0 40%; max-width: 40%;">
        <div class="has-text-centered">
          <div style="border: 3px solid #28a745; border-radius: 8px; padding: 5px; background: rgba(40, 167, 69, 0.05);">
            <video width="100%" height="auto" controls style="border-radius: 5px; max-height: 50vh;">
              <source src="./resources/adaptation/after_adapt_firefox_720p.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
            <h4 style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.9em; margin-top: 8px; color: #28a745;">After Adaptation</h4>
          </div>
        </div>
      </div>
    </div>
    </div>
</section>

<section class="section" id="space-interpolation">
  <h2 class="title is-2" style="text-align: center;">Space Interpolation</h2>
  <div class="container" style="max-width: 80%; margin: 0 auto;">
    <h4 style="text-align: center; margin-bottom: 15px; font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif);">The <span style="color: #004bb3; font-weight: bold;">structured nature</span> of the learned space enables smooth interpolation between latent representations. We can leverage <span style="color: #004bb3; font-weight: bold;">Spherical Linear Interpolation</span> to generate intermediate latent vectors along the geodesic arc between the two end-points.</h4>
    
    <div style="text-align: center; margin: 20px 0;">
      <p style="margin-bottom: 10px;">$$z_{t} := \frac{\sin((1-t)\theta)}{\sin \theta}z_0 + \frac{\sin(t\theta)}{\sin \theta}z_1, \quad \theta := \arccos\left(\langle z_0, z_1 \rangle\right), \ z_0\ne z_1, t\in[0,1].$$</p>
    </div> 
    <h4 style="text-align: center; margin-bottom: 15px; font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif);">We can see simple interpolation shows <span style="color: #004bb3; font-weight: bold;">meaningful semantic-level changes</span>.</h4>  
    <div class="columns is-centered">
      
      <div class="column is-half">
        <div class="has-text-centered">
          <video width="100%" height="auto" controls autoplay muted loop style="border-radius: 8px; margin-bottom: 15px;">
            <source src="./resources/interpolation/interpolation1_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
      </video>
          <h4 style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 1em; margin-bottom: 10px;">$z_0: \text{strafe-left}, z_1: \text{strafe-right}$</h4>
          <!-- <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.9em;">Hightlight: The robot almost stop at t=0.5, demonstrates the structured nature of the learned space.</p> -->
    </div>
      </div>
      <div class="column is-half">
        <div class="has-text-centered">
          <video width="100%" height="auto" controls autoplay muted loop style="border-radius: 8px; margin-bottom: 15px;">
            <source src="./resources/interpolation/interpolation2_firefox_720p.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <h4 style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 1em; margin-bottom: 10px;">$z_0: \text{arms-low-low}, z_1: \text{arms-low-high}$</h4>
          <!-- <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 0.9em;">Shows robust performance under various disturbance conditions and quick recovery.</p> -->
        </div>
      </div>
    </div>


   </div>
</section>

<!-- <section class="section" id="scaling-effects">
  <h2 class="title is-2" style="text-align: center;">Scaling Effects in Both Data and Model Size</h2>
  <div class="container" style="max-width: 70%; margin: 0 auto;">
    <div style="max-width: 100%; margin-top: 30px;">
      <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); line-height: 1.8; color: #333; font-size: 0.95em; margin-bottom: 25px; text-align: left;">
        <span style="color: #004bb3; font-weight: bold;">Scaling ablations are significant, as they reveal how the Behavior Foundation Model benefits from additional data and larger model capacity, providing insights for model design and data collection.</span> In these experiments, we leverage the CMU and BMLHandball subsets of the AMASS dataset in addition to LAFAN1. We consider individual datasets (LAFAN1 and AMASS) as well as merged datasets containing 12.5%, 25%... of both. For tracking, the test set is completely disjoint from the training datasets. For reward inference, all configurations use 600,000 samples from LAFAN1. Results with a single random seed are reported in the figure below.
      </p>
      
      <div class="columns" style="margin: 0; align-items: stretch;">
        <div class="column is-half" style="display: flex; align-items: stretch;">
          <div class="has-text-centered" style="width: 100%; display: flex; align-items: center;">
            <img src="./resources/scaling/scaling_plot_mix_linear.png" alt="Scaling Plot Mix Linear" loading="lazy" style="width: 100%; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
          </div>
        </div>
        
        <div class="column is-half" style="display: flex; align-items: stretch;">
          <div class="tabs-container" style="max-width: 100%; margin: 0; width: 100%; display: flex; flex-direction: column;">
            <div class="tabs-header">
              <button class="tab-button active" onclick="showScalingTab('tracking-analysis')">Tracking Performance</button>
              <button class="tab-button" onclick="showScalingTab('reward-analysis')">Reward Inference Performance</button>
            </div>
            
            <div id="tracking-analysis" class="tab-content active" style="flex: 1; display: flex !important; flex-direction: column; justify-content: center; padding: 30px;">
               <h3 style="color: #004bb3; margin-bottom: 15px; font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); font-size: 1.3em;">Tracking Performance Analysis</h3> 
              <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); line-height: 1.8; color: #333; font-size: 0.95em;">
                <span style="color: #004bb3; font-weight: bold;">Performance Scaling:</span> Increasing the total model capacity improves tracking performance on nearly all training mocap datasets, although performance on LAFAN1 saturates early.
                <br><br>
                <span style="color: #004bb3; font-weight: bold;">Network Architecture Comparison:</span> Residual architectures outperform simple MLPs and can be scaled to larger sizes, whereas scaling MLPs often leads to unstable training.
              </p>
            </div>
            
            <div id="reward-analysis" class="tab-content" style="flex: 1; display: none; flex-direction: column; justify-content: center; padding: 30px;">
              <p style="font-family: var(--font-sans, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif); line-height: 1.8; color: #333; font-size: 0.95em;">
                <span style="color: #004bb3; font-weight: bold;">Performance Scaling:</span> Reward inference performance improves with the training dataset size, demonstrating the positive correlation between data volume and reward prediction accuracy.
                <br><br>
                <span style="color: #004bb3; font-weight: bold;">Importance of Including LAFAN1:</span> Including a certain proportion of LAFAN1 data in training is crucial; performance degrades when training with only AMASS subsets.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section> -->


<footer class="footer">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-8">
        <div class="content">
          <p>
            Website template modified from incredible <a href="#">UMI-On-Legs</a>, <a href="#">NeRFies</a>, and <a href="#">Scaling Up Distilling Down</a>.
          </p>
          <!-- <p>
            This website is licensed under a <a rel="license"
              href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
              Commons Attribution-ShareAlike 4.0 International License</a>.
          </p>
          <p>
            This means you are free to borrow and modify the <a href="#">source
              code</a> of this website as long as
            you link back to the <a href="#">NeRFies</a> page in the footer.
            Please remember to remove the analytics code included in the header of the website which
            you do not want on your website.
          </p> -->
        </div>
      </div>
    </div>
  </div>
</footer>

</body>
</html>
